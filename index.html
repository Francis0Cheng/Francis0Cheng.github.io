<!DOCTYPE html>



  

<embed src="/js/src/1.mp3" hidden="true" loop="true">
<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
	  
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?e9bf4c3313038d6ec4da6e3db746814d";
	  var s = document.getElementsByTagName("script")[0];
	  s.parentNode.insertBefore(hm, s);
	})();	
  </script>

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129335859-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129335859-1');
  </script>

  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta property="og:type" content="website">
<meta property="og:title" content="Francis&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Francis&#39;s Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Francis&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":10,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Francis's Blog</title>
  














</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Francis's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Life is Brilliant</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/Django流程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/Django流程/" itemprop="url">Django流程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-04T16:24:58+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Django-admin startproject mysite</span><br></pre></td></tr></table></figure>
<p><strong>注意：路径中不要带有中文</strong></p>
<p>层级目录说明</p>
<p><img src="1.png" alt="1"></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>manage.py</td>
<td>一个命令行工具，可以让我们用多种方式对Django项目进行交互</td>
</tr>
<tr>
<td>__init__.py</td>
<td>一个空文件，它告诉Python这个目录应该被看做一个包</td>
</tr>
<tr>
<td>settings.py</td>
<td>项目的配置文件（主要处理文件）</td>
</tr>
<tr>
<td>urls.py</td>
<td>项目的url声明 （主要处理文件）</td>
</tr>
<tr>
<td>wsgi.py</td>
<td>项目与WSGI兼容的Web服务器入口</td>
</tr>
</tbody>
</table>
<h3 id="配置数据库-mysql"><a href="#配置数据库-mysql" class="headerlink" title="配置数据库(mysql)"></a>配置数据库(mysql)</h3><p>  在Django中，默认使用 SQLite数据库，在settings.py文件中通过DATABASES选项进行数据库配置。</p>
<h4 id="配置mysql"><a href="#配置mysql" class="headerlink" title="配置mysql"></a>配置mysql</h4><p>  1.在mysite/__init__.py中写入两行代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mysql</span><br><span class="line">mysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure>
<p>  2.在settings.py中对DATABASES进行配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">    &apos;ENGINE&apos;: &apos;django.db.backends.mysql&apos;,</span><br><span class="line">    &apos;NAME&apos;: &quot;sunck&quot;,</span><br><span class="line">    &apos;USER&apos;: &quot;root&quot;,</span><br><span class="line">    &apos;PASSWORD&apos;: &quot;admin123&quot;,</span><br><span class="line">    &apos;HOST&apos;: &quot;localhost&quot;,</span><br><span class="line">    &apos;PORT&apos;: &quot;3306&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><h4 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h4><p>  创建应用–在一个项目中可以创建多个应用，每个应用进行一种业务处理在manage.py所在文件夹下打开cmd，输入命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp myapp</span><br></pre></td></tr></table></figure>
<p>  层级目录说明</p>
<p><img src="2.png" alt="2"></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>admin.py</td>
<td>进行站点配置，用于注册模型等</td>
</tr>
<tr>
<td>models.py</td>
<td>创建模型</td>
</tr>
<tr>
<td>views.py</td>
<td>创建视图</td>
</tr>
<tr>
<td>test,py</td>
<td>网站测试</td>
</tr>
<tr>
<td>migration文件夹</td>
<td>于数据迁移</td>
</tr>
</tbody>
</table>
<h3 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h3><p>  在settings.py中，将myapo应用加入到INSTALLED.APPS选项中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    &apos;django.contrib.admin&apos;,</span><br><span class="line">    &apos;django.contrib.auth&apos;,</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,</span><br><span class="line">    &apos;django.contrib.sessions&apos;,</span><br><span class="line">    &apos;django.contrib.messages&apos;,</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,</span><br><span class="line">    &apos;myapp&apos;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="定义模型"><a href="#定义模型" class="headerlink" title="定义模型"></a>定义模型</h3><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><p>  概述，有一个数据表就对应有一个模型。在models.py中定义模型。模型类要继承models.Model类。所以要import models这个类</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Grades</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    gname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    gdate = models.DateTimeField()</span><br><span class="line">    ggirlnum = models.IntegerField()</span><br><span class="line">    gboynum = models.IntegerField()</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    sname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    sgender = models.BooleanField(default=<span class="keyword">True</span>)</span><br><span class="line">    sage = models.IntegerField()</span><br><span class="line">    scontend = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="keyword">False</span>)</span><br><span class="line">    sgrade = models.ForeignKey(<span class="string">"Grades"</span>, on_delete=models.CASCADE,)</span><br></pre></td></tr></table></figure>
<p><strong>说明：不需要定义主键，在生成时自动添加，并且值为自动增加</strong></p>
<h4 id="迁移"><a href="#迁移" class="headerlink" title="迁移"></a>迁移</h4><p>  1.生成迁移文件，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br></pre></td></tr></table></figure>
<p>  2.执行迁移，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/27/tf-strided-slice/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/27/tf-strided-slice/" itemprop="url">tf.strided_slice</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-27T15:35:21+08:00">
                2018-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow中的函数/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow中的函数</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>tf.strided_slice其实就是TensorFlow中用来分片的函数。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">strided_slice</span><span class="params">(input_,</span></span></span><br><span class="line"><span class="function"><span class="params">                  begin,</span></span></span><br><span class="line"><span class="function"><span class="params">                  end,</span></span></span><br><span class="line"><span class="function"><span class="params">                  strides=None,</span></span></span><br><span class="line"><span class="function"><span class="params">                  begin_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  end_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  ellipsis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  new_axis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  shrink_axis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  var=None,</span></span></span><br><span class="line"><span class="function"><span class="params">                  name=None)</span>:</span></span><br></pre></td></tr></table></figure>
<p>begin是分片开始， end是分片结束，strides是步长，注意这边的步长其实是从步长的最后一位开始的</p>
<h3 id="Question："><a href="#Question：" class="headerlink" title="Question："></a>Question：</h3><p>I am wondering what <code>tf.strided_slice()</code> operator actually does.<br>The <a href="https://www.tensorflow.org/api_docs/python/array_ops/slicing_and_joining#strided_slice" target="_blank" rel="noopener">doc</a> says,</p>
<blockquote>
<p>To a first order, this operation extracts a slice of size end - begin from a tensor input starting at the location specified by begin. The slice continues by adding stride to the begin index until all dimensions are not less than end. Note that components of stride can be negative, which causes a reverse slice.</p>
</blockquote>
<p>And in the sample,</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 'input' is [[[1, 1, 1], [2, 2, 2]],</span></span><br><span class="line"><span class="comment">#             [[3, 3, 3], [4, 4, 4]],</span></span><br><span class="line"><span class="comment">#             [[5, 5, 5], [6, 6, 6]]]</span></span><br><span class="line">tf.slice(input, [1, 0, 0], [2, 1, 3], [1, 1, 1]) ==&gt; [[[3, 3, 3]]]</span><br><span class="line">tf.slice(input, [1, 0, 0], [2, 2, 3], [1, 1, 1]) ==&gt; [[[3, 3, 3],</span><br><span class="line">                                                       [<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>]]]</span><br><span class="line">tf.slice(input, [1, 1, 0], [2, -1, 3], [1, -1, 1]) ==&gt;[[[4, 4, 4],</span><br><span class="line">                                                        [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]]]</span><br></pre></td></tr></table></figure>
<p>So in my understanding of the doc, the first sample (<code>tf.slice(input, begin=[1, 0, 0], end=[2, 1, 3], strides=[1, 1, 1])</code>),</p>
<ul>
<li>resulting size is <code>end - begin = [1, 1, 3]</code>. The sample result shows <code>[[[3, 3, 3,]]]</code>, that shape is <code>[1, 1, 3]</code>, it seems OK.</li>
<li>the first element of the result is at <code>begin = [1, 0, 0]</code>. The first element of the sample result is <code>3</code>, which is <code>input[1,0,0]</code>, it seems OK.</li>
<li>the slice continues by adding stride to the begin index. So the second element of the result should be <code>input[begin + strides] = input[2, 1, 1] = 6</code>, but the sample shows the second element is <code>3</code>.</li>
</ul>
<p>What <code>strided_slice()</code> does?</p>
<h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><p>The mistake in your argument is the fact that you are directly adding the lists <code>strides</code> and <code>begin</code>element by element. This will make the function a lot less useful. Instead, it increments the <code>begin</code>list one dimension at a time, starting from the last dimension.</p>
<p>Let’s solve the first example part by part. <code>begin = [1, 0, 0]</code> and <code>end = [2, 1, 3]</code>. Also, all the <code>strides</code> are <code>1</code>. Work your way backwards, from the last dimension.</p>
<p>Start with element <code>[1,0,0]</code>. Now <strong>increase the last dimension only by its stride amount</strong>, giving you <code>[1,0,1]</code>. Keep doing this until you reach the limit. Something like <code>[1,0,2]</code>, <code>[1,0,3]</code> (end of the loop). Now in your next iteration, start by incrementing the second to last dimension and resetting the last dimension, <code>[1,1,0]</code>. Here the second to last dimension is equal to <code>end[1]</code>, so move to the first dimension (third to last) and reset the rest, giving you <code>[2,0,0]</code>. Again you are at the first dimension’s limit, so quit the loop.</p>
<p>The following code is a recursive implementation of what I described above,</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Assume global `begin`, `end` and `stride`</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterate</span><span class="params">(active, dim)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> dim == len(begin):</span><br><span class="line">        <span class="comment"># last dimension incremented, work on the new matrix</span></span><br><span class="line">        <span class="comment"># Note that `active` and `begin` are lists</span></span><br><span class="line">        new_matrix[active - begin] = old_matrix[active]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(begin[dim], end[dim], stride[dim]):</span><br><span class="line">            new_active = copy(active)</span><br><span class="line">            new_active[dim] = i</span><br><span class="line">            iterate(new_active, dim + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">iterate(begin, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/22/html5/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/22/html5/" itemprop="url">HTML5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-22T20:04:48+08:00">
                2018-11-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="HTML-Attributes"><a href="#HTML-Attributes" class="headerlink" title="HTML Attributes"></a>HTML Attributes</h3><table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt</td>
<td>Specifies an alternative text for an image, when the image cannot be displayed                 图片无法显示时候提示是怎么样的图片</td>
</tr>
<tr>
<td>disabled</td>
<td>Specifies that an input element should be disabled</td>
</tr>
<tr>
<td>href</td>
<td>Specifies the URL (web address) for a link</td>
</tr>
<tr>
<td>id</td>
<td>Specifies a unique id for an element</td>
</tr>
<tr>
<td>src</td>
<td>Specifies the URL (web address) for an image  也就是图片的source</td>
</tr>
<tr>
<td>style</td>
<td>Specifies an inline CSS style for an element</td>
</tr>
<tr>
<td>title</td>
<td>Specifies extra information about an element (displayed as a tool tip)                                   鼠标停留时显示的字样</td>
</tr>
<tr>
<td>width, height</td>
<td>图片的宽和高</td>
</tr>
</tbody>
</table>
<h2 id="HTML-Horizontal-Rules-标签水平"><a href="#HTML-Horizontal-Rules-标签水平" class="headerlink" title="HTML Horizontal Rules 标签水平"></a>HTML Horizontal Rules 标签水平</h2><p>The <code>&lt;hr&gt;</code> tag defines a thematic break in an HTML page, and is most often displayed as a horizontal rule.</p>
<p>The <code>&lt;hr&gt;</code> element is used to separate content (or define a change) in an HTML page:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is heading 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is some text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>This is heading 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is some other text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="This-is-heading-1"><a href="#This-is-heading-1" class="headerlink" title="This is heading 1"></a>This is heading 1</h1><p>This is some text.</p>
<hr>
<h2 id="This-is-heading-2"><a href="#This-is-heading-2" class="headerlink" title="This is heading 2"></a>This is heading 2</h2><p>This is some other text.</p>
<hr>
<h2 id="This-is-heading-2-1"><a href="#This-is-heading-2-1" class="headerlink" title="This is heading 2"></a>This is heading 2</h2><p>This is some other text.</p>
<h2 id="Bigger-Headings-更大的标题"><a href="#Bigger-Headings-更大的标题" class="headerlink" title="Bigger Headings 更大的标题"></a>Bigger Headings 更大的标题</h2><p>Each HTML heading has a default size. However, you can specify the size for any heading with the <code>style</code> attribute, using the CSS <code>font-size</code> property:</p>
<p>也就是说h1, h2, h3这些的字体大小都是可以调整的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 style=&quot;font-size:60px;&quot;&gt;Heading 1&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<h2 id="The-HTML-lt-pre-gt-Element-标签实例预格式化的文本"><a href="#The-HTML-lt-pre-gt-Element-标签实例预格式化的文本" class="headerlink" title="The HTML &lt;pre&gt;  Element 标签实例预格式化的文本"></a>The HTML <code>&lt;pre&gt;</code>  Element 标签实例预格式化的文本</h2><p>The HTML <code>&lt;pre&gt;</code> element defines preformatted text.</p>
<p>The text inside a <code>&lt;pre&gt;</code> element is displayed in a fixed-width font (usually Courier), and it preserves both spaces and line breaks:</p>
<p>会保留文本原格式</p>
<table>
<thead>
<tr>
<th>Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>p</td>
<td>Defines a paragraph</td>
</tr>
<tr>
<td>br</td>
<td>Inserts a single line break</td>
</tr>
<tr>
<td>pre</td>
<td>Defines pre-formatted text</td>
</tr>
</tbody>
</table>
<h2 id="Style-Chapter-Summary"><a href="#Style-Chapter-Summary" class="headerlink" title="Style Chapter Summary"></a>Style Chapter Summary</h2><ul>
<li>Use the <code>style</code> attribute for styling HTML elements</li>
<li>Use <code>background-color</code> for background color</li>
<li>Use <code>color</code> for text colors</li>
<li>Use <code>font-family</code> for text fonts</li>
<li>Use <code>font-size</code> for text sizes</li>
<li>Use <code>text-align</code> for text alignment</li>
</ul>
<h3 id="HTML-Formatting"><a href="#HTML-Formatting" class="headerlink" title="HTML Formatting"></a>HTML Formatting</h3><ul>
<li><p><code>&lt;b&gt;</code> - Bold text</p>
</li>
<li><p><code>&lt;strong&gt;</code> - Important text</p>
</li>
<li><p><code>&lt;i&gt;</code> - Italic text</p>
</li>
<li><p><code>&lt;em&gt;</code> - Emphasized text</p>
</li>
<li><p><code>&lt;mark&gt;</code> - Marked text</p>
</li>
<li><p><code>&lt;small&gt;</code> - Small text</p>
</li>
<li><p><code>&lt;del&gt;</code> - Deleted text</p>
</li>
<li><p><code>&lt;ins&gt;</code> - Inserted text</p>
</li>
<li><p><code>&lt;sub&gt;</code> - Subscript text</p>
</li>
<li><p><code>&lt;sup&gt;</code> - Superscript text</p>
</li>
</ul>
<p>  mark <code>&lt;mark&gt;</code></p>
<p>  ​                  <img src="1.png" alt="1"></p>
<p>  del  <code>&lt;del&gt;</code></p>
<p>  ​                      <img src="2.png" alt="2"></p>
<p>  insert  <code>&lt;ins&gt;</code></p>
<p>  <img src="3.png" alt="3"></p>
<p>   small <code>&lt;small&gt;</code></p>
<p>​                         <img src="4.png" alt="4"></p>
<p>​    subscripted <code>&lt;sub&gt;</code></p>
<p><img src="5.png" alt="5"></p>
<p>​    superscripted  <code>&lt;sup&gt;</code></p>
<p><img src="6.png" alt="6"></p>
<h3 id="​-HTML-Quotation-and-Citation-Elements"><a href="#​-HTML-Quotation-and-Citation-Elements" class="headerlink" title="​    HTML Quotation and Citation Elements"></a>​    HTML Quotation and Citation Elements</h3><h2 id="HTML-lt-blockquote-gt-for-Quotations"><a href="#HTML-lt-blockquote-gt-for-Quotations" class="headerlink" title="HTML &lt;blockquote&gt; for Quotations"></a>HTML <code>&lt;blockquote&gt;</code> for Quotations</h2><p>The HTML <code>&lt;blockquote&gt;</code> element defines a section that is quoted from another source.</p>
<p>Browsers usually indent <code>&lt;blockquote&gt;</code> elements.  （块状引用）</p>
<p>The HTML <code>&lt;abbr&gt;</code> element defines an abbreviation or an acronym.（缩写简称 如：WHO是World Health Organization）</p>
<p>The HTML <code>&lt;address&gt;</code> element defines contact information (author/owner) of a document or an article.</p>
<p>The <code>&lt;address&gt;</code> element is usually displayed in italic. Most browsers will add a line break before and after the element.</p>
<table>
<thead>
<tr>
<th>Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>abbr</td>
<td>Defines an abbreviation or acronym</td>
</tr>
<tr>
<td>address</td>
<td>Defines contact information for the author/owner of a document</td>
</tr>
<tr>
<td>bdo</td>
<td>Defines the text direction</td>
</tr>
<tr>
<td>blockquote</td>
<td>Defines a section that is quoted from another source</td>
</tr>
<tr>
<td>cite</td>
<td>Defines the title of a work</td>
</tr>
<tr>
<td>q</td>
<td>Defines a short inline quotation</td>
</tr>
</tbody>
</table>
<h2 id="The-HTML-lt-meta-gt-Element"><a href="#The-HTML-lt-meta-gt-Element" class="headerlink" title="The HTML &lt;meta&gt; Element"></a>The HTML <code>&lt;meta&gt;</code> Element</h2><p>The <code>&lt;meta&gt;</code> element is used to specify which character set is used, page description, keywords, author, and other metadata.</p>
<p>Metadata is used by browsers (how to display content), by search engines (keywords), and other web services.</p>
<p>Define the character set used:</p>
<h2 id="The-HTML-lt-base-gt-Element"><a href="#The-HTML-lt-base-gt-Element" class="headerlink" title="The HTML &lt;base&gt; Element"></a>The HTML <code>&lt;base&gt;</code> Element</h2><p>The <code>&lt;base&gt;</code> element specifies the base URL and base target for all relative URLs in a page:</p>
<h3 id="CSS-Floats"><a href="#CSS-Floats" class="headerlink" title="CSS Floats"></a>CSS Floats</h3><p>It is common to do entire web layouts using the CSS float property. Float is easy to learn - you just need to remember how the float and clear properties work.<strong>Disadvantages:</strong> Floating elements are tied to the document flow, which may harm the flexibility. Learn more about float in our <a href="https://www.w3schools.com/css/css_float.asp" target="_blank" rel="noopener">CSS Float and Clear</a> chapter.</p>
<h3 id="CSS-Flexbox"><a href="#CSS-Flexbox" class="headerlink" title="CSS Flexbox"></a>CSS Flexbox</h3><p>Flexbox is a new layout mode in CSS3.</p>
<p>Use of flexbox ensures that elements behave predictably when the page layout must accommodate different screen sizes and different display devices. <strong>Disadvantages:</strong>Does not work in IE10 and earlier.</p>
<p>Learn more about flexbox in our <a href="https://www.w3schools.com/css/css3_flexbox.asp" target="_blank" rel="noopener">CSS Flexbox</a> chapter.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>accept-charset</td>
<td>Specifies the charset used in the submitted form (default: the page charset).</td>
</tr>
<tr>
<td>action</td>
<td>Specifies an address (url) where to submit the form (default: the submitting page).</td>
</tr>
<tr>
<td>autocomplete</td>
<td>Specifies if the browser should autocomplete the form (default: on).</td>
</tr>
<tr>
<td>enctype</td>
<td>Specifies the encoding of the submitted data (default: is url-encoded).</td>
</tr>
<tr>
<td>method</td>
<td>Specifies the HTTP method used when submitting the form (default: GET).</td>
</tr>
<tr>
<td>name</td>
<td>Specifies a name used to identify the form (for DOM usage: document.forms.name).</td>
</tr>
<tr>
<td>novalidate</td>
<td>Specifies that the browser should not validate the form.</td>
</tr>
<tr>
<td>target</td>
<td>Specifies the target of the address in the action attribute (default: _self).</td>
</tr>
</tbody>
</table>
<h2 id="The-lt-select-gt-Element"><a href="#The-lt-select-gt-Element" class="headerlink" title="The &lt;select&gt; Element"></a>The <code>&lt;select&gt;</code> Element</h2><p>The <code>&lt;select&gt;</code> element defines a <strong>drop-down list</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cars"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"volvo"</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"saab"</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"fiat"</span>&gt;</span>Fiat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"audi"</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<select name="cars"><br>  <option value="volvo">Volvo</option><br>  <option value="saab">Saab</option><br>  <option value="fiat">Fiat</option><br>  <option value="audi">Audi</option><br></select>

<h3 id="Allow-Multiple-Selections"><a href="#Allow-Multiple-Selections" class="headerlink" title="Allow Multiple Selections:"></a>Allow Multiple Selections:</h3><p>Use the <code>multiple</code> attribute to allow the user to select more than one value:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cars"</span> <span class="attr">size</span>=<span class="string">"4"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"volvo"</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"saab"</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"fiat"</span>&gt;</span>Fiat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"audi"</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<select name="cars" size="4" multiple><br>  <option value="volvo">Volvo</option><br>  <option value="saab">Saab</option><br>  <option value="fiat">Fiat</option><br>  <option value="audi">Audi</option><br></select>    

<h2 id="The-lt-textarea-gt-Element"><a href="#The-lt-textarea-gt-Element" class="headerlink" title="The &lt;textarea&gt; Element"></a>The <code>&lt;textarea&gt;</code> Element</h2><p>The <code>&lt;textarea&gt;</code> element defines a multi-line input field (<strong>a text area</strong>):</p>
<h2 id="HTML5-lt-datalist-gt-Element"><a href="#HTML5-lt-datalist-gt-Element" class="headerlink" title="HTML5 &lt;datalist&gt;Element"></a>HTML5 <code>&lt;datalist&gt;</code>Element</h2><p>The <code>&lt;datalist&gt;</code> element specifies a list of pre-defined options for an <code>&lt;input&gt;</code> element.</p>
<p>Users will see a drop-down list of the pre-defined options as they input data.</p>
<p>The <code>list</code> attribute of the <code>&lt;input&gt;</code> element, must <strong>refer to the <code>id</code></strong> attribute of the <code>&lt;datalist&gt;</code> element.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/action_page.php"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">list</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Internet Explorer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Firefox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Chrome"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Opera"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Safari"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action="/action_page.php"><br>  <input list="browsers"><br>  <datalist id="browsers"><br>    <option value="Internet Explorer"><br>    </option><option value="Firefox"><br>    </option><option value="Chrome"><br>    </option><option value="Opera"><br>    </option><option value="Safari"><br>  </option></datalist><br></form>

<h2 id="HTML5-lt-output-gt-Element"><a href="#HTML5-lt-output-gt-Element" class="headerlink" title="HTML5 &lt;output&gt;Element"></a>HTML5 <code>&lt;output&gt;</code>Element</h2><p>The <code>&lt;output&gt;</code> element represents the result of a calculation (like one performed by a script).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;/action_page.php&quot;</span><br><span class="line">  oninput=&quot;x.value=parseInt(a.value)+parseInt(b.value)&quot;&gt;</span><br><span class="line">  0</span><br><span class="line">  &lt;input type=&quot;range&quot;  id=&quot;a&quot; name=&quot;a&quot; value=&quot;50&quot;&gt;</span><br><span class="line">  100 +</span><br><span class="line">  &lt;input type=&quot;number&quot; id=&quot;b&quot; name=&quot;b&quot; value=&quot;50&quot;&gt;</span><br><span class="line">  =</span><br><span class="line">  &lt;output name=&quot;x&quot; for=&quot;a b&quot;&gt;&lt;/output&gt;</span><br><span class="line">  &lt;br&gt;&lt;br&gt;</span><br><span class="line">  &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<form action="/action_page.php" oninput="x.value=parseInt(a.value)+parseInt(b.value)"><br>  0<br>  <input type="range" id="a" name="a" value="50"><br>  100 +<br>  <input type="number" id="b" name="b" value="50"><br>  =<br>  <output name="x" for="a b"></output><br>  <br><br><br>  <input type="submit"><br></form>

<h2 id="Input-Type-Password"><a href="#Input-Type-Password" class="headerlink" title="Input Type Password"></a>Input Type Password</h2><p><code>&lt;input type=&quot;password&quot;&gt;</code> defines a <strong>password field</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  User name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  User password:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"psw"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  User name:<br><br>  <input type="text" name="username"><br><br>  User password:<br><br>  <input type="password" name="psw"><br></form>

<h2 id="Input-Type-Checkbox"><a href="#Input-Type-Checkbox" class="headerlink" title="Input Type Checkbox"></a>Input Type Checkbox</h2><p><code>&lt;input type=&quot;checkbox&quot;&gt;</code> defines a <strong>checkbox</strong>.</p>
<p>Checkboxes let a user select ZERO or MORE options of a limited number of choices.</p>
<form><br>  <input type="checkbox" name="vehicle1" value="Bike"> I have a bike<br><br>  <input type="checkbox" name="vehicle2" value="Car"> I have a car<br></form>

<h2 id="Input-Type-Color"><a href="#Input-Type-Color" class="headerlink" title="Input Type Color"></a>Input Type Color</h2><p>The <code>&lt;input type=&quot;color&quot;&gt;</code> is used for input fields that should contain a color.</p>
<p>Depending on browser support, a color picker can show up in the input field.</p>
<form><br>  Select your favorite color:<br>  <input type="color" name="favcolor"><br></form>

<h2 id="Input-Type-Date"><a href="#Input-Type-Date" class="headerlink" title="Input Type Date"></a>Input Type Date</h2><p>The <code>&lt;input type=&quot;date&quot;&gt;</code> is used for input fields that should contain a date.</p>
<p>Depending on browser support, a date picker can show up in the input field.</p>
<form><br>  Birthday:<br>  <input type="date" name="bday"><br></form>

<p>You can also use the <code>min</code> and <code>max</code> attributes to add restrictions to dates:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  Enter a date before 1980-01-01:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">"bday"</span> <span class="attr">max</span>=<span class="string">"1979-12-31"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Enter a date after 2000-01-01:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">"bday"</span> <span class="attr">min</span>=<span class="string">"2000-01-02"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  Enter a date before 1980-01-01:<br>  <input type="date" name="bday" max="1979-12-31"><br><br>  Enter a date after 2000-01-01:<br>  <input type="date" name="bday" min="2000-01-02"><br><br></form>

<h2 id="Input-Type-Datetime-local"><a href="#Input-Type-Datetime-local" class="headerlink" title="Input Type Datetime-local"></a>Input Type Datetime-local</h2><p>The <code>&lt;input type=&quot;datetime-local&quot;&gt;</code> specifies a date and time input field, with no time zone.</p>
<p>Depending on browser support, a date picker can show up in the input field.</p>
<h2 id="Input-Type-Email"><a href="#Input-Type-Email" class="headerlink" title="Input Type Email"></a>Input Type Email</h2><p>The <code>&lt;input type=&quot;email&quot;&gt;</code> is used for input fields that should contain an e-mail address.</p>
<p>Depending on browser support, the e-mail address can be automatically validated when submitted.</p>
<p>Some smartphones recognize the email type, and adds “.com” to the keyboard to match email input.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  E-mail:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">name</span>=<span class="string">"email"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  E-mail:<br>  <input type="email" name="email"><br></form>

<h2 id="The-readonly-Attribute"><a href="#The-readonly-Attribute" class="headerlink" title="The readonly Attribute"></a>The readonly Attribute</h2><p>The <code>readonly</code> attribute specifies that the input field is read only (cannot be changed):</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span> <span class="attr">value</span>=<span class="string">"John"</span> <span class="attr">readonly</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" readonly><br></form>

<h2 id="The-disabled-Attribute"><a href="#The-disabled-Attribute" class="headerlink" title="The disabled Attribute"></a>The disabled Attribute</h2><p>The <code>disabled</code> attribute specifies that the input field is disabled.</p>
<p>A disabled input field is unusable and un-clickable, and its value will not be sent when submitting the form:</p>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" disabled><br></form>

<h2 id="The-size-Attribute"><a href="#The-size-Attribute" class="headerlink" title="The size Attribute"></a>The size Attribute</h2><p>The <code>size</code> attribute specifies the size (in characters) for the input field:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span> <span class="attr">value</span>=<span class="string">"John"</span> <span class="attr">size</span>=<span class="string">"40"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" size="40"><br></form>

<h2 id="The-maxlength-Attribute"><a href="#The-maxlength-Attribute" class="headerlink" title="The maxlength Attribute"></a>The maxlength Attribute</h2><p>The <code>maxlength</code> attribute specifies the maximum allowed length for the input field:</p>
<h2 id="The-autocomplete-Attribute"><a href="#The-autocomplete-Attribute" class="headerlink" title="The autocomplete Attribute"></a>The autocomplete Attribute</h2><p>The <code>autocomplete</code> attribute specifies whether a form or input field should have autocomplete on or off.</p>
<p>When autocomplete is on, the browser automatically completes the input values based on values that the user has entered before.</p>
<p><strong>Tip:</strong> It is possible to have autocomplete “on” for the form, and “off” for specific input fields, or vice versa.</p>
<p>The <code>autocomplete</code> attribute works with <code>&lt;form&gt;</code> and the following <code>&lt;input&gt;</code> types: text, search, url, tel, email, password, datepickers, range, and color.</p>
<h2 id="The-novalidate-Attribute"><a href="#The-novalidate-Attribute" class="headerlink" title="The novalidate Attribute"></a>The novalidate Attribute</h2><p>The <code>novalidate</code> attribute is a <code>&lt;form&gt;</code> attribute.</p>
<p>When present, novalidate specifies that the form data should not be validated when submitted.</p>
<h2 id="The-autofocus-Attribute"><a href="#The-autofocus-Attribute" class="headerlink" title="The autofocus Attribute"></a>The autofocus Attribute</h2><p>The <code>autofocus</code> attribute specifies that the input field should automatically get focus when the page loads.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">First name:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span> <span class="attr">autofocus</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="The-form-Attribute"><a href="#The-form-Attribute" class="headerlink" title="The form Attribute"></a>The form Attribute</h2><p>The <code>form</code> attribute specifies one or more forms an <code>&lt;input&gt;</code> element belongs to.</p>
<p><strong>Tip:</strong> To refer to more than one form, use a space-separated list of form ids.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/action_page.php"</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">  First name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">Last name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lname"</span> <span class="attr">form</span>=<span class="string">"form1"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="The-formenctype-Attribute"><a href="#The-formenctype-Attribute" class="headerlink" title="The formenctype Attribute"></a>The formenctype Attribute</h2><p>The <code>formenctype</code> attribute specifies how the form data should be encoded when submitted (only for forms with method=”post”).</p>
<p>The <code>formenctype</code> attribute overrides the enctype attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formenctype</code> attribute is used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-formmethod-Attribute"><a href="#The-formmethod-Attribute" class="headerlink" title="The formmethod Attribute"></a>The formmethod Attribute</h2><p>The <code>formmethod</code> attribute defines the HTTP method for sending form-data to the action URL.</p>
<p>The <code>formmethod</code> attribute overrides the method attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formmethod</code> attribute can be used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-formnovalidate-Attribute"><a href="#The-formnovalidate-Attribute" class="headerlink" title="The formnovalidate Attribute"></a>The formnovalidate Attribute</h2><p>The <code>formnovalidate</code> attribute overrides the novalidate attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formnovalidate</code> attribute can be used with <code>type=&quot;submit&quot;</code>.</p>
<h2 id="The-formtarget-Attribute"><a href="#The-formtarget-Attribute" class="headerlink" title="The formtarget Attribute"></a>The formtarget Attribute</h2><p>The <code>formtarget</code> attribute specifies a name or a keyword that indicates where to display the response that is received after submitting the form.</p>
<p>The <code>formtarget</code> attribute overrides the target attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formtarget</code> attribute can be used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-multiple-Attribute"><a href="#The-multiple-Attribute" class="headerlink" title="The multiple Attribute"></a>The multiple Attribute</h2><p>The <code>multiple</code> attribute specifies that the user is allowed to enter more than one value in the <code>&lt;input&gt;</code> element.</p>
<p>The <code>multiple</code> attribute works with the following input types: email, and file.</p>
<hr>
<h2 id="The-pattern-Attribute正则表达式"><a href="#The-pattern-Attribute正则表达式" class="headerlink" title="The pattern Attribute正则表达式"></a>The pattern Attribute正则表达式</h2><p>The <code>pattern</code> attribute specifies a regular expression that the <code>&lt;input&gt;</code> element’s value is checked against.</p>
<p>The <code>pattern</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<p><strong>Tip:</strong> Use the global <a href="https://www.w3schools.com/tags/att_global_title.asp" target="_blank" rel="noopener">title</a> attribute to describe the pattern to help the user.</p>
<p><strong>Tip:</strong> Learn more about <a href="https://www.w3schools.com/js/js_regexp.asp" target="_blank" rel="noopener">regular expressions</a> in our JavaScript tutorial.</p>
<h2 id="The-placeholder-Attributes"><a href="#The-placeholder-Attributes" class="headerlink" title="The placeholder Attributes"></a>The placeholder Attributes</h2><p>The <code>placeholder</code> attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>
<p>The hint is displayed in the input field before the user enters a value.</p>
<p>The <code>placeholder</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<h2 id="The-placeholder-Attribute-HINT"><a href="#The-placeholder-Attribute-HINT" class="headerlink" title="The placeholder Attribute  (HINT )"></a>The placeholder Attribute  (HINT )</h2><p>The <code>placeholder</code> attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>
<p>The hint is displayed in the input field before the user enters a value.</p>
<p>The <code>placeholder</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<p>&lt;!DOCTYPE html&gt;</p>
<p><html></html></p>
<p><body></body></p>
<p></p><h2>The placeholder Attribute</h2><p></p>
<p>The placeholder attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>

<form action="/action_page.php"><br>  <input type="text" name="fname" placeholder="First name"><br><br>  <input type="text" name="lname" placeholder="Last name"><br><br>  <input type="submit" value="Submit"><br></form>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/15/leetcode_5/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/15/leetcode_5/" itemprop="url">leetcode_5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-15T22:28:11+08:00">
                2018-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LeetCode-No-5"><a href="#LeetCode-No-5" class="headerlink" title="[LeetCode: No.5]"></a>[LeetCode: No.5]</h1><blockquote>
<p>Given a string <strong>s</strong>, find the longest palindromic substring in <strong>s</strong>. You may assume that the maximum length of <strong>s</strong> is 1000.</p>
</blockquote>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;babad&quot;</span><br><span class="line">Output: &quot;bab&quot;</span><br><span class="line">Note: &quot;aba&quot; is also a valid answer.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;cbbd&quot;</span><br><span class="line">Output: &quot;bb&quot;</span><br></pre></td></tr></table></figure>
<p>  <strong>最长回文子串的中间子串也是回文串，换言之，回文串是否最长，可以看回文串两边的字符是否相同。例如“dabcba”的最长回文子串是“abcba”，</strong>其可看出回文子串“bcb”的拓展，判断“bab”两边的字符是否相同决定是否进行回文子串拓展（可以利用切片的索引左右移动实现）</p>
<p>  由这个想法下， 写出第一个代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> len(s) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        self.res = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            left = right = i</span><br><span class="line">            <span class="keyword">while</span> left&gt;=<span class="number">0</span> <span class="keyword">and</span> right &lt; len(s) <span class="keyword">and</span> s[left] == s[right]:</span><br><span class="line">                left -= <span class="number">1</span></span><br><span class="line">                right += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> right -left <span class="number">-1</span> &gt; len(self.res):</span><br><span class="line">                self.res = s[left+<span class="number">1</span>:right]</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br></pre></td></tr></table></figure>
<p>其中在While语句中， s[left] == s[right]<strong>是一定要放在最后面的</strong>，因为在python中and的机制是这样的and之前的是Flase， 那么and后面的就不会被执行，有可能会出现left=-1或者right=len(s)，这是的s[left]和s[right]会超出索引值。还有就是<strong>一定要注意字符串的索引值和长度</strong>。</p>
<p>  但是这段代码还是会出错，当输出值s为’abbc’是 ，检测不出bb，因为他没有对称中心。所以我们在做添加，left和right的初始值不设为想等而是相差1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span>      </span><br><span class="line">        <span class="keyword">if</span> len(s) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        self.res = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="comment">#这里就是考虑到两种情况，从相同字符拓宽和从相邻字符拓宽</span></span><br><span class="line">            self.helper(s, i, i)</span><br><span class="line">            self.helper(s, i, i+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self,s, left, right)</span>:</span></span><br><span class="line">        <span class="comment">#这里是判断当前回文子串两端相同的时候，向两端拓展</span></span><br><span class="line">        <span class="keyword">while</span> left&gt;=<span class="number">0</span> <span class="keyword">and</span> right &lt; len(s) <span class="keyword">and</span> s[left] == s[right]:</span><br><span class="line">            left -= <span class="number">1</span></span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">            <span class="comment">#这里的right-left-1是当前的回文子串长度，大于历史最大值，就更新最大值</span></span><br><span class="line">        <span class="keyword">if</span> right -left <span class="number">-1</span> &gt; len(self.res):</span><br><span class="line">            self.res = s[left+<span class="number">1</span>:right]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/13/leetcode_4/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/13/leetcode_4/" itemprop="url">leetcode_4</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-13T22:28:11+08:00">
                2018-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LeetCode-No-4"><a href="#LeetCode-No-4" class="headerlink" title="[LeetCode: No.4]"></a>[LeetCode: No.4]</h1><blockquote>
<p>There are two sorted arrays <strong>nums1</strong> and <strong>nums2</strong> of size m and n respectively.</p>
<p>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>
<p>You may assume <strong>nums1</strong> and <strong>nums2</strong> cannot be both empty.</p>
</blockquote>
<p>仔细分析题目，nums1和nums2都已经是排好序了的，这就大大的降低了难度，让找到两个列表的中间值，其实我们可以拓展为找到两个列表的第k个值。当然这个是拓展部分了，对于这个题目，有不同的思路，最简单粗暴的就是将两个列表合并，之后进行排序，拍好序后进行寻找中间值就简单了。但是用传统的先合并再排序，效率想必会很低~</p>
<p>我们发现对于两个已经有序的列表（从小到大），其实有一个更优的排序方式：<strong>从小到大，依次进行列表元素的比较，较小值放到一个新列表中，比如A中该位置的值较小，将其放到新的列表C中，同时将A列表下一个值继续与B中当前位置元素进行比较，以此类推。</strong>这样的比较次数就比先合并在排序小很多啦！代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMedianSortedArrays</span><span class="params">(self, nums1, nums2)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums1: List[int]</span></span><br><span class="line"><span class="string">        :type nums2: List[int]</span></span><br><span class="line"><span class="string">        :rtype: float</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        length = len(nums1)+len(nums2)</span><br><span class="line">        <span class="comment">#计算总长度</span></span><br><span class="line">        num = [<span class="number">0</span>]  * length</span><br><span class="line">        </span><br><span class="line">        index, i_1, i_2 = <span class="number">0</span></span><br><span class="line">        <span class="comment">#当输入两个列表都还存在元素没进行比较的时候，循环进行对比</span></span><br><span class="line">        <span class="comment">#并将较小值放入新列表，同时较小元素的列表和新列表索引加一</span></span><br><span class="line">        <span class="keyword">while</span> i_1&lt;len(nums1) <span class="keyword">and</span> i_2 &lt; len(nums2):</span><br><span class="line">        	<span class="keyword">if</span> nums1[i_1] &gt;= nums2[i_2]:</span><br><span class="line">        		num[index] = nums2[i_2]</span><br><span class="line">        		i_2 += <span class="number">1</span></span><br><span class="line">        	<span class="keyword">else</span>:</span><br><span class="line">        	    num[index] = nums1[i_1]</span><br><span class="line">        	    i_1 += <span class="number">1</span></span><br><span class="line">        	index += <span class="number">1</span></span><br><span class="line">        <span class="comment">#当存在某一个列表所有元素已经比较完，即排好了序</span></span><br><span class="line">        <span class="comment">#剩下那个列表剩下的值直接放入新列表对应位置即可</span></span><br><span class="line">        <span class="keyword">if</span> i_1 == len(nums1)  :   <span class="comment">#这里要注意的是， 我们while语句最后都多加了一个1所以这里是==len(nums1)</span></span><br><span class="line">        	num[index:] = nums2[i_2:]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">        	num[index:] = nums1[i_1:]</span><br><span class="line">        <span class="keyword">if</span> length % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        	<span class="keyword">return</span> float(num[length//<span class="number">2</span>]+num[length//<span class="number">2</span> - <span class="number">1</span>])/<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">        	<span class="keyword">return</span> num[length//<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/12/python妹子爬虫/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/12/python妹子爬虫/" itemprop="url">python妹子爬虫</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-12T16:20:06+08:00">
                2018-11-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python爬虫/" itemprop="url" rel="index">
                    <span itemprop="name">Python爬虫</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这篇博客写一个python妹子爬虫(嘿嘿嘿)</p>
<p>我们要爬取的网站是<a href="http://www.doyo.cn/tu" target="_blank" rel="noopener">http://www.doyo.cn/tu</a> ，网页是这样的：</p>
<p><img src="1.png" alt="1"></p>
<p>可以看到，好多美女的。</p>
<p>  我们点开其中一个连接，进入其页面，是哇小姐姐真漂亮^^，同时我们发现链接地址地址为<a href="http://www.doyo.cn/picture/7399" target="_blank" rel="noopener">http://www.doyo.cn/picture/7399</a> ，也就是说我们只要知道/picure/后面的数字就可以找到这个小姐姐了！~</p>
<p><img src="2.png" alt="2"></p>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p> 大体的思路很简单，就是先爬取每一个小姐姐的连接，然后由每个分类爬取这个小姐姐的所有图片。</p>
<h3 id="导入库"><a href="#导入库" class="headerlink" title="导入库"></a>导入库</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> requests.exceptions <span class="keyword">import</span> RequestException</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> re</span><br></pre></td></tr></table></figure>
<h3 id="爬取分类的连接"><a href="#爬取分类的连接" class="headerlink" title="爬取分类的连接"></a>爬取分类的连接</h3><p> 第一步就是获得分类连接，我们在首页打开Chrome的审查，点开Network选项， 发现在Ajax请求返回了一个Json格式的数据，其中包括了每个小姐姐的信息，其中就有这个小姐姐的网页连接</p>
<p><img src="3.png" alt="3"></p>
<p>注意到这第七项的7276就是这个小姐姐的连接的后缀了。</p>
<p>这个Ajax的连接是<a href="http://www.doyo.cn/tu/getdata?cate=all&amp;tag=all&amp;sort=updatetime&amp;start=50&amp;count=25" target="_blank" rel="noopener">http://www.doyo.cn/tu/getdata?cate=all&amp;tag=all&amp;sort=updatetime&amp;start=50&amp;count=25</a> ，也就是说我们只要设置其中的start参数就可以无限的得到这些包含小姐姐信息的Json文件连接了。</p>
<p>由此引出第一个函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">data_url = <span class="string">'http://www.doyo.cn/tu/getdata'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_one_page</span><span class="params">(start)</span>:</span></span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">"cate"</span>: <span class="string">"all"</span>,</span><br><span class="line">        <span class="string">"tag"</span>: <span class="string">"all"</span>,</span><br><span class="line">        <span class="string">"sort"</span>: <span class="string">"updatetime"</span>,</span><br><span class="line">        <span class="string">"start"</span>: start,</span><br><span class="line">        <span class="string">"count"</span>: <span class="number">25</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(url=data_url, params=params)</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> response.text</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        print(<span class="string">"NetWork Error"</span>)</span><br></pre></td></tr></table></figure>
<p>其中我们传入的参数是start，这里的data_url就是Ajax亲贵根网页。构造一个params字典作为参数然后用requests.get请求网页，我们通过我们传入的params，requests将会自动给我们构建出url连接，如果请求失败，我们设置except，自动抛出”Network Error”</p>
<h3 id="解析Ajax请求返回的Json文本"><a href="#解析Ajax请求返回的Json文本" class="headerlink" title="解析Ajax请求返回的Json文本"></a>解析Ajax请求返回的Json文本</h3><p>  由上一个函数返回值是一个文本，大概是这个样子的</p>
<p><img src="4.png" alt="4"></p>
<p>它的本质是一个Json格式的字典，就是前面图片</p>
<p><img src="5.png" alt="5"></p>
<p>我们定义一个函数，用json解析文档，其中的number是指小姐姐地址的后缀，count是指小姐姐有几张图片，等下我们会用这两个来构建图片的网址：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_one_data</span><span class="params">(html)</span>:</span></span><br><span class="line">    data = json.loads(html)</span><br><span class="line">    <span class="keyword">if</span> data <span class="keyword">and</span> <span class="string">'info'</span> <span class="keyword">in</span> data.keys():</span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> data.get(<span class="string">'info'</span>):</span><br><span class="line">            <span class="keyword">yield</span> &#123;</span><br><span class="line">                <span class="string">'title'</span>: info[<span class="number">0</span>],</span><br><span class="line">                <span class="string">'count'</span>: info[<span class="number">1</span>],</span><br><span class="line">                <span class="string">'pic'</span>: info[<span class="number">6</span>],</span><br><span class="line">                <span class="string">'number'</span>: info[<span class="number">7</span>]</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p>如果data字典中不是None并且字典中有‘info’我们对info中的值进行操作。这个键值我们yield返回一个生成器，生成器每次都会迭代出一个json格式的文本</p>
<h3 id="解析每个json文本，得到链接列表"><a href="#解析每个json文本，得到链接列表" class="headerlink" title="解析每个json文本，得到链接列表"></a>解析每个json文本，得到链接列表</h3><p>  上一个函数中返回的是一个生成器，每次迭代都会返回json文本，接下来我们就需要根据每每个json文本得到图片的地址了每张小姐姐图片的地址是<a href="http://www.doyo.cn/picture/{number}/{index}/viewhttp://www.doyo.cn/picture/{number}/{index}/view" target="_blank" rel="noopener">http://www.doyo.cn/picture/{number}/{index}/viewhttp://www.doyo.cn/picture/{number}/{index}/view</a> ，其中number是小姐姐的编号，index就是某个小姐姐的所有图片中的某一张的编号了我们用一个for语句来得到每张图片。然后yield出所有的地址</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root_url = <span class="string">'http://www.doyo.cn/picture/&#123;number&#125;/&#123;index&#125;/view'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_img_urllist</span><span class="params">(res)</span>:</span></span><br><span class="line">    <span class="comment"># root_url = 'http://www.doyo.cn/picture/&#123;number&#125;/&#123;index&#125;/view'</span></span><br><span class="line">    <span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">1</span>, int(res.get(<span class="string">'count'</span>)) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">yield</span> root_url.format(number=res.get(<span class="string">'number'</span>), index=index)</span><br></pre></td></tr></table></figure>
<h3 id="解析每个链接，得到每一张图片链接"><a href="#解析每个链接，得到每一张图片链接" class="headerlink" title="解析每个链接，得到每一张图片链接"></a>解析每个链接，得到每一张图片链接</h3><p> 经过上一步得到的图片列表，其中每一个连接的页面将会是这样：</p>
<p><img src="6.png" alt="6"></p>
<p>用正则表达式匹配图片的链接，先写正则表达式：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pattern = re.compile(<span class="string">'&lt;img src="(.*?)" id="big_picture" /&gt;'</span>, re.S)</span><br></pre></td></tr></table></figure>
<p>然后进行匹配：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_img_url</span><span class="params">(imag_url)</span>:</span></span><br><span class="line">    print(<span class="string">'image_url'</span> , imag_url)</span><br><span class="line">    html = get_html(imag_url)</span><br><span class="line">    res = re.search(pattern=pattern, string=html)</span><br><span class="line">    <span class="keyword">if</span> res:</span><br><span class="line">        <span class="keyword">return</span> res.group(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_html</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        response = requests.get(url, headers=headers)</span><br><span class="line">        <span class="keyword">if</span> response.status_code == <span class="number">200</span>:</span><br><span class="line">            <span class="keyword">return</span> response.text</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">None</span></span><br><span class="line">    <span class="keyword">except</span> RequestException:</span><br><span class="line">        print(<span class="string">"connection error"</span>)</span><br></pre></td></tr></table></figure>
<p>返回链接。</p>
<h3 id="保存图片"><a href="#保存图片" class="headerlink" title="保存图片"></a>保存图片</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_img</span><span class="params">(res)</span>:</span></span><br><span class="line">    os.chdir(parent_path)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        os.mkdir(res.get(<span class="string">'title'</span>))</span><br><span class="line">        os.chdir(res.get(<span class="string">'title'</span>))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    url_list = get_img_urllist(res)</span><br><span class="line">    <span class="keyword">for</span> imag_url <span class="keyword">in</span> url_list:</span><br><span class="line">        url = get_img_url(imag_url)</span><br><span class="line">        print(imag_url)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            filename = str(random.random())</span><br><span class="line">            time.sleep(<span class="number">0.1</span>)</span><br><span class="line">            response = requests.get(url, headers=headers)</span><br><span class="line">            <span class="keyword">with</span> open(filename + <span class="string">'.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(response.content)</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>这里我们保存图片时，每个小姐姐都新建一个文件夹存入</p>
<h3 id="main函数"><a href="#main函数" class="headerlink" title="main函数"></a>main函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(start)</span>:</span></span><br><span class="line">    html = get_one_page(start)</span><br><span class="line">    res = get_one_data(html)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> each <span class="keyword">in</span> res:</span><br><span class="line">        print(each)</span><br><span class="line">        write_to_file(each)</span><br><span class="line">        save_img(each)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    start = [n * <span class="number">25</span> <span class="keyword">for</span> n <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> start:</span><br><span class="line">        main(i)</span><br><span class="line">    j.close()</span><br></pre></td></tr></table></figure>
<h3 id="开始爬取"><a href="#开始爬取" class="headerlink" title="开始爬取"></a>开始爬取</h3><p><img src="7.png" alt="7"></p>
<p><img src="8.png" alt="8"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/11/TensorFlow中的几种交叉熵/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/11/TensorFlow中的几种交叉熵/" itemprop="url">TensorFlow中的几种交叉熵</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-11T14:18:53+08:00">
                2018-11-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>[TensorFlow中的几种交叉熵]
</code></pre><p>=============================================================================================</p>
<h3 id="Logit函数"><a href="#Logit函数" class="headerlink" title="Logit函数"></a>Logit函数</h3><p>在线性回归中，<img src="1.gif" alt="1">，是用直线去拟合数据，实现最小二乘意义下的最小预测误差。</p>
<p>在逻辑回归中：可以看作是用<img src="2.gif" alt="2">直线去拟合Logit函数，通过极大似然估计出参数，使得在该参数下，能以最大概率生成当前的样本。</p>
<p>logits函数是一种将取值范围在[0,1]内的概率映射到实数域[-inf,inf]的函数，如果p=0.5，函数值为0；p&lt;0.5，函数值为负；p&gt;0.5，函数值为正。</p>
<p>相对地，softmax和sigmoid则都是将[-inf,inf]映射到[0,1]的函数。</p>
<p>在tensorflow里的”logits”指的其实是，该方法是在logit数值上使用softmax或者sigmoid来进行normalization的，也暗示用户不要将网络输出进行sigmoid或者softmax，这些过程可以在函数内部更高效地计算。</p>
<h3 id="独立和互斥"><a href="#独立和互斥" class="headerlink" title="独立和互斥"></a>独立和互斥</h3><p>有事件A和B</p>
<p>独立：P(AnB) = P(A) * P(B)</p>
<p>互斥：P(AUB) = P(A) + P(B), P(AnB) = 0</p>
<p>### </p>
<h2 id="1、tf-nn-sigmoid-cross-entropy-with-logits"><a href="#1、tf-nn-sigmoid-cross-entropy-with-logits" class="headerlink" title="1、tf.nn.sigmoid_cross_entropy_with_logits"></a>1、tf.nn.sigmoid_cross_entropy_with_logits</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sigmoid_cross_entropy_with_logits(</span><br><span class="line">    _sentinel=None,</span><br><span class="line">    labels=None,</span><br><span class="line">    logits=None,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>计算网络输出logits和标签labels的sigmoid cross entropy loss，衡量独立不互斥离散分类任务的误差，说独立不互斥离散分类任务是因为，在这些任务中类与类之间是独立但是不互斥的，拿多分类任务中的多目标检测来举例子，一张图中可以有各种instance，比如有一只狗和一只猫。对于一个总共有五类的多目标检测任务，假如网络的输出层有5个节点，label的形式是[1,1,0,0,1]这种，1表示该图片有某种instance，0表示没有。那么，每个instance在这张图中有没有这显然是独立事件，但是多个instance可以存在一张图中，这就说明事件们并不是互斥的。所以我们可以直接将网络的输出用作该方法的logits输入，从而进行输出与label的cross entropy loss。</p>
<p>更加直白的来说，这种网络的输入不需要进行one hot处理，网络输出即是函数logits参数的输入。</p>
<p>剖开函数内部，因为labels和logits的形状都是[batch_size, num_classes]，那么如何计算他们的交叉熵呢，毕竟它们都不是有效的概率分布（一个batch内输出结果经过sigmoid后和不为1）。其实loss的计算是element-wise的，方法返回的loss的形状和labels是相同的，也是[batch_size, num_classes]，再调用reduce_mean方法计算batch内的平均loss。所以这里的cross entropy其实是一种class-wise的cross entropy，每一个class是否存在都是一个事件，对每一个事件都求cross entropy loss，再对所有的求平均，作为最终的loss。</p>
<h2 id="2、tf-nn-softmax-cross-entropy-with-logits"><a href="#2、tf-nn-softmax-cross-entropy-with-logits" class="headerlink" title="2、tf.nn.softmax_cross_entropy_with_logits"></a>2、tf.nn.softmax_cross_entropy_with_logits</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">softmax_cross_entropy_with_logits(</span><br><span class="line">    _sentinel=None,</span><br><span class="line">    labels=None,</span><br><span class="line">    logits=None,</span><br><span class="line">    dim=-1,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>计算网络输出logits和标签labels的softmax cross entropy loss，衡量独立互斥离散分类任务的误差，说独立互斥离散分类任务是因为，在这些任务中类与类之间是独立而且互斥的，比如VOC classification、Imagenet、CIFAR-10甚至MNIST，这些都是多分类任务，但是一张图就对应着一个类，class在图片中是否存在是独立的，并且一张图中只能有一个class，所以是独立且互斥事件。</p>
<p>该函数要求每一个label都是一个有效的概率分布，对于Imagenet中的ILSVRC2012这种任务，那么label应该就对应一个one hot编码，ILSVRC2012提供的数据集中一共有1000个类，那么label就应该是一个1x1000的vector，形式为[0,0,…,1,0,….0]，1000个元素中有且只有一个元素是1，其余都是0。</p>
<p>这样要求的原因很简单，因为网络的输出要进行softmax，得到的就是一个有效的概率分布，这里不同与sigmoid，因为sigmoid并没有保证网络所有的输出经过sigmoid后和为1，不是一个有效的概率分布。</p>
<p>有了labels和softmax后的logits，就可以计算交叉熵损失了，最后得到的是形状为[batch_size, 1]的loss。</p>
<h2 id="3、tf-nn-sparse-softmax-cross-entropy-with-logits"><a href="#3、tf-nn-sparse-softmax-cross-entropy-with-logits" class="headerlink" title="3、tf.nn.sparse_softmax_cross_entropy_with_logits"></a>3、tf.nn.sparse_softmax_cross_entropy_with_logits</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sparse_softmax_cross_entropy_with_logits(</span><br><span class="line">    _sentinel=None,</span><br><span class="line">    labels=None,</span><br><span class="line">    logits=None,</span><br><span class="line">    name=None</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>这个版本是tf.nn.softmax_cross_entropy_with_logits的易用版本，这个版本的logits的形状依然是[batch_size, num_classes]，但是labels的形状是[batch_size, 1]，每个label的取值是从[0, num_classes)的离散值，这也更加符合我们的使用习惯，是哪一类就标哪个类对应的label。</p>
<p>如果已经对label进行了one hot编码，则可以直接使用tf.nn.softmax_cross_entropy_with_logits。</p>
<h2 id="4、总结："><a href="#4、总结：" class="headerlink" title="4、总结："></a>4、总结：</h2><p>到底是用sigmoid版本的cross entropy还是softmax版本的cross entropy主要取决于我们模型的目的，以及label的组织方式，这个需要大家在使用的时候去揣摩，到底使用哪一种loss比较合理。</p>
<p>在我最近训练的segmentation模型中，使用的就是sparse softmax cross entropy，使用的思路就是将输出的结果从NHWC（这里C=1，表示该pixel所属的class），进行一次reshape，形状变为[N<em>H</em>W, 1]，label也是如此，传入函数中进行计算，从而产生loss。从模型训练的结果来看，这种使用方法没有错误。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/10/leetcode_3/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/leetcode_3/" itemprop="url">leetcode_3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-10T22:17:41+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LeetCode-No-3"><a href="#LeetCode-No-3" class="headerlink" title="[LeetCode: No.3]"></a>[LeetCode: No.3]</h1><blockquote>
<p>Given a string, find the length of the longest substring without repeating characters.</p>
</blockquote>
<p><strong>题目大意</strong>：给出一个字符串，找到最长的没有重复字符的子字符串，并返回该子字符串的长度。</p>
<p>Examples：</p>
<pre><code>Given &quot;abcabcbb&quot;, the answer is &quot;abc&quot;, which the length is 3.
Given &quot;bbbbb&quot;, the answer is &quot;b&quot;, with the length of 1.
Given &quot;pwwkew&quot;, the answer is &quot;wke&quot;, with the length of 3. Note that the answer must be a substring, &quot;pwke&quot; is a subsequence and not a substring.
</code></pre><h5 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h5><p>粗暴的想法是利用循环嵌套对所有情况进行遍历。大体的思路是：第一层循环从字符串的最左侧到左右侧第二个，然后第二层循环从第一层紧跟着的一个到最后的字符串，之后比较长度得到最大长度的子字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        max_len = <span class="number">0</span> <span class="comment">#用这个值记录我们要返回的最长子字符串长度</span></span><br><span class="line">        <span class="comment">#当原字符串长度为0或1的特殊情况</span></span><br><span class="line">        <span class="keyword">if</span> (len(s) == <span class="number">1</span> <span class="keyword">or</span> len(s) == <span class="number">0</span>):</span><br><span class="line">            max_len = len(s)</span><br><span class="line">        <span class="comment">#开始遍历每一个子字符串，并进行长度比较，得到最长的那个</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(s)<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(s)):</span><br><span class="line">                <span class="keyword">if</span> s[j] <span class="keyword">in</span> s[i:j]:</span><br><span class="line">                    <span class="keyword">if</span> j-i &gt; max_len:</span><br><span class="line">                        max_len = j - i</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> j == len(s) - <span class="number">1</span>:  	</span><br><span class="line">				<span class="comment">#当j是最后一个字符时，需要加上一个单位</span></span><br><span class="line">                    <span class="keyword">if</span> max_len &lt; j - i + <span class="number">1</span>:</span><br><span class="line">                        max_len = j - i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> max_len</span><br></pre></td></tr></table></figure>
<p>这种解法虽然可以通过，但是效率很低，时间会很长</p>
<h5 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="comment">#创建一个空字典，其存放的形式是“单字符:出现位置的索引”</span></span><br><span class="line">        indexDict = &#123;&#125;</span><br><span class="line">        <span class="comment">#存放记录最大长度和当前循环下的长度</span></span><br><span class="line">        maxLength = currMax = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="comment">#这里是当s[i]没有在之前出现过，则当前长度currMax自动加一</span></span><br><span class="line">            <span class="comment">#当出现了重复字符，则比较当前找到的子字符串长度和历史最大长度</span></span><br><span class="line">            <span class="comment">#重点是这里i - indexDict[s[i]] - 1 的含义；代码后举例具体讲解</span></span><br><span class="line">            <span class="keyword">if</span> s[i] <span class="keyword">in</span> indexDict <span class="keyword">and</span> i - indexDict[s[i]] - <span class="number">1</span> &lt;= currMax:</span><br><span class="line">                <span class="keyword">if</span> maxLength &lt; currMax:</span><br><span class="line">                    maxLength = currMax</span><br><span class="line">                currMax = i - indexDict[s[i]] - <span class="number">1</span></span><br><span class="line">            currMax = currMax + <span class="number">1</span>                </span><br><span class="line">            indexDict[s[i]] = i     <span class="comment">#这一步也非常关键，可以更新重复字符的位置</span></span><br><span class="line">        <span class="keyword">return</span> maxLength <span class="keyword">if</span> currMax &lt; maxLength <span class="keyword">else</span> currMax</span><br></pre></td></tr></table></figure>
<p>接下来举例说明下为什么【i - indexDict[s[i]] - 1】代表了当前找到子字符串的长度。 比如字符串’abcdadd’，代码运行过程中一直迭代到i=3【对应字符d】时，都不满足s[i] in indexDict ,不执行条件语句，而是currMax依次加一，并且将字符信息以{s[i]:i}的形式存放在字典中。当继续迭代i=4时，进入条件语句，这里主要解释【i - indexDict[s[i]] - 1】，检测到了重复字符’a’，之前该字符出现位置为i=0处即【indexDict[s[i]] =0】这时候当前检测到的无重复字符子串为’abcd’，长度为【4-indexDict[s[i]] -1 = 3】。其他同此例。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Francis Cheng">
          <p class="site-author-name" itemprop="name">Francis Cheng</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Francis Cheng</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

  <script type="text/javascript" src="/js/src/love.js"></script>

  

</body>
</html>
