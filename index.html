<!DOCTYPE html>



  





<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
	  
  <script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "https://hm.baidu.com/hm.js?e9bf4c3313038d6ec4da6e3db746814d";
	  var s = document.getElementsByTagName("script")[0];
	  s.parentNode.insertBefore(hm, s);
	})();	
  </script>

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129335859-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129335859-1');
  </script>

  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css">


  <meta name="keywords" content="Hexo, NexT">








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.2">






<meta property="og:type" content="website">
<meta property="og:title" content="Francis&#39;Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Francis&#39;Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Francis&#39;Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":10,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Francis'Blog</title>
  














</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Francis'Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Life is Brilliant</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/01/02/django-vuejs-api-views/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/01/02/django-vuejs-api-views/" itemprop="url">django-vuejs-api-views</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-01-02T20:41:10+08:00">
                2019-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Translation-Table"><a href="#Translation-Table" class="headerlink" title="Translation Table"></a>Translation Table</h3><table>
<thead>
<tr>
<th style="text-align:left">English</th>
<th style="text-align:right">Chinese</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">front-end</td>
<td style="text-align:right">前端</td>
</tr>
<tr>
<td style="text-align:left">back-end</td>
<td style="text-align:right">后端</td>
</tr>
<tr>
<td style="text-align:left">pagination</td>
<td style="text-align:right">分页</td>
</tr>
<tr>
<td style="text-align:left">tweaking</td>
<td style="text-align:right">拧（这里应该是修改的意思）</td>
</tr>
<tr>
<td style="text-align:left">queries</td>
<td style="text-align:right">查询</td>
</tr>
<tr>
<td style="text-align:left">Decimal</td>
<td style="text-align:right">十进制</td>
</tr>
<tr>
<td style="text-align:left">querysets</td>
<td style="text-align:right">查询集</td>
</tr>
</tbody>
</table>
<h2 id="Building-a-Modern-Web-Application-with-Django-REST-Framework-and-Vue-Building-Views-and-REST-API"><a href="#Building-a-Modern-Web-Application-with-Django-REST-Framework-and-Vue-Building-Views-and-REST-API" class="headerlink" title="Building a Modern Web Application with Django REST Framework and Vue: Building Views and REST API"></a>Building a Modern Web Application with Django REST Framework and Vue: Building Views and REST API</h2><p>Throughout this part of these tutorial series you will continue developing a CRUD (Create, Read, Update and Delete) application with a restful API  <u>back-end</u> and a Vue  <u>front-end</u> using Django, Django REST framework and Vue (with Axios as an HTTP client). In this part you’ll specifically build the REST API and the front-end views to consume and display data from the API endpoints. You will also see how to integrate your Vue application with your Django back-end in production. As always you can find the source code of the demo project in this <a href="https://github.com/techiediaries/django-auth0-vue" target="_blank" rel="noopener">Github repository</a>.</p>
<p>You can check the second article from this <a href="https://www.techiediaries.com/django-vuejs-auth0" target="_blank" rel="noopener">link</a></p>
<ul>
<li>Building the REST API: You will create a simple REST API around one model (<em>Product</em>) with DRF(Django REST Framework) and learn how to add <u>pagination</u> to your APIs.</li>
<li>Creating the Service to Consume the API: You will create the class that interfaces with your API using Axios.</li>
<li>Creating the Front End Views: You will create different views and routes for the Vue application and see how you can protect some routes from non authenticated users.</li>
<li>Getting Ready for Production: Finally you’ll prepare your app for production by tweaking some settings in Vue and Django parts.</li>
</ul>
<h3 id="Building-the-REST-API"><a href="#Building-the-REST-API" class="headerlink" title="Building the REST API"></a>Building the REST API</h3><p>Django REST framework is a powerful and easy to use package for building Web APIs.</p>
<p>Let’s get started by building a simple REST API using Django REST framework.</p>
<h3 id="Adding-the-Product-Model"><a href="#Adding-the-Product-Model" class="headerlink" title="Adding the Product Model"></a>Adding the Product Model</h3><p>Django has a powerful ORM (Object Relational Mapper) that allows you to work with multiple database management systems without actually writing any SQL. All you need to do is to define models in Python classes and Django will take care of mapping Python classes to SQL <u>queries</u>.</p>
<p>The API is built around a simple product model so continuing with the project you’ve built in the previous part open the <code>catalog/models.py</code> file then add the following model</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Product</span><span class="params">(models.Model)</span>:</span></span><br><span class="line"></span><br><span class="line">    sku = models.CharField(max_length=<span class="number">13</span>,help_text=<span class="string">"Enter Stock Keeping Unit"</span>)    </span><br><span class="line">    name = models.CharField(max_length=<span class="number">200</span>, help_text=<span class="string">"Enter product name"</span>)</span><br><span class="line">    description = models.TextField(help_text=<span class="string">"Enter product description"</span>)</span><br><span class="line"></span><br><span class="line">    buyPrice = models.DecimalField(decimal_places=<span class="number">2</span>, max_digits=<span class="number">20</span>,help_text=<span class="string">"Enter product price per unit"</span>)</span><br><span class="line">    sellPrice = models.DecimalField(decimal_places=<span class="number">2</span>, max_digits=<span class="number">20</span>,help_text=<span class="string">"Enter product price per unit"</span>)</span><br><span class="line"></span><br><span class="line">    unit = models.CharField(max_length=<span class="number">10</span>,help_text=<span class="string">"Enter product unit"</span>)</span><br><span class="line"></span><br><span class="line">    quantity = models.DecimalField(decimal_places=<span class="number">1</span>, max_digits=<span class="number">20</span>,help_text=<span class="string">"Enter quantity"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_absolute_url</span><span class="params">(self)</span>:</span></span><br><span class="line">         <span class="string">"""</span></span><br><span class="line"><span class="string">         Returns the url to access a particular instance of Product.</span></span><br><span class="line"><span class="string">         """</span></span><br><span class="line">         <span class="keyword">return</span> reverse(<span class="string">'product-detail-view'</span>, args=[str(self.id)])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> self.sku</span><br></pre></td></tr></table></figure>
<p>This is a Python class that extends the special Django class <em>Model</em> which is imported from the <code>django.db.models</code> built-in package. Every Django model needs to extends the <em>Model</em>class. You then specify the model fields using classes like <em>CharField</em>, <em>TextField</em> and <em>DecimalField</em> etc.</p>
<p>Now you need to migrate your database to add the new changes</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>
<p>Next let’s add some seed data using a data migration</p>
<p>So first make an empty migration by running the following command:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations catalog --empty</span><br></pre></td></tr></table></figure>
<p>Next open your migration file in your app migrations folder (<code>catalog/migrations</code>) then create a function that will executed by the <code>RunPython()</code> method when you apply your migration</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> migrations</span><br><span class="line"><span class="keyword">from</span> django.conf <span class="keyword">import</span> settings</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_data</span><span class="params">(apps, schema_editor)</span>:</span></span><br><span class="line">    Product = apps.get_model(<span class="string">'catalog'</span>, <span class="string">'Product'</span>)</span><br><span class="line">    Product(sku=<span class="string">'sku1'</span>,name=<span class="string">'Product 1'</span>, description=<span class="string">'Product 1'</span>, buyPrice=<span class="number">100</span> , sellPrice=<span class="number">100</span>,unit=<span class="string">'kilogram'</span>, quantity=<span class="number">100</span>).save()</span><br><span class="line">    <span class="comment">##...</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Migration</span><span class="params">(migrations.Migration)</span>:</span></span><br><span class="line">    dependencies = [</span><br><span class="line">        (<span class="string">'catalog'</span>, <span class="string">'0001_initial'</span>),</span><br><span class="line">    ]</span><br><span class="line">    operations = [</span><br><span class="line">        migrations.RunPython(create_data),</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>
<p>You can then migrate your database to create the initial data</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>
<h3 id="Adding-the-Serializer-Class"><a href="#Adding-the-Serializer-Class" class="headerlink" title="Adding the Serializer Class"></a>Adding the Serializer Class</h3><p>From <a href="http://www.django-rest-framework.org/api-guide/serializers/" target="_blank" rel="noopener">Django REST framework docs</a> here is the definition of a serializer</p>
<blockquote>
<p><em>Serializers allow complex data such as querysets and model instances to be converted to native Python datatypes that can then be easily rendered into JSON, XML or other content types. Serializers also provide deserialization, allowing parsed data to be converted back into complex types, after first validating the incoming data.</em></p>
</blockquote>
<blockquote>
<p>Serializers允许将复杂数据（如查询集和模型实例）转换为Python数据类型，然后可以轻松地将其呈现为JSON，XML或其他内容类型。 序列化程序还提供反序列化，允许在首次验证传入数据后将解析后的数据转换回复杂类型。</p>
</blockquote>
<p>Create a <code>serializers.py</code> file inside your the <em>catalog</em> app folder then add the following code to create a serializer class for the product model</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Product</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Product </span><br><span class="line">        fields = (<span class="string">'pk'</span>,<span class="string">'sku'</span>, <span class="string">'name'</span>, <span class="string">'description'</span>, <span class="string">'buyPrice'</span>,<span class="string">'sellPrice'</span>,<span class="string">'unit'</span>,<span class="string">'quantity'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Adding-the-API-Views"><a href="#Adding-the-API-Views" class="headerlink" title="Adding the API Views"></a>Adding the API Views</h3><p>After adding the database model and the serializer class and also some seed data the next thing is to create the API views that will be responsible for creating, updating, deleting and fetching data from the database and send it back to users as JSON database when users request the appropriate API endpoint so go ahead and open the <code>catalog/views.py</code> file then start by adding the following imports</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> status</span><br><span class="line"><span class="keyword">from</span> rest_framework.decorators <span class="keyword">import</span> api_view</span><br><span class="line"><span class="keyword">from</span> rest_framework.response <span class="keyword">import</span> Response</span><br><span class="line"><span class="keyword">from</span> django.core.paginator <span class="keyword">import</span> Paginator, EmptyPage, PageNotAnInteger</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> Product </span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
<p>This code imports different classes from DRF package, paginator classes to add pagination and then the Product model and its serializer class.</p>
<h3 id="Adding-the-Product-List-Create-API-View"><a href="#Adding-the-Product-List-Create-API-View" class="headerlink" title="Adding the Product List/Create API View"></a>Adding the Product List/Create API View</h3><p>In your <code>catalog/views.py</code> add the following view function which can process either GET or POST requests to either return paginated list of products or create a product.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@api_view(['GET', 'POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product_list</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    List  products, or create a new product.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        data = []</span><br><span class="line">        nextPage = <span class="number">1</span></span><br><span class="line">        previousPage = <span class="number">1</span></span><br><span class="line">        products = Product.objects.all()</span><br><span class="line">        page = request.GET.get(<span class="string">'page'</span>, <span class="number">1</span>)</span><br><span class="line">        paginator = Paginator(products, <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            data = paginator.page(page)</span><br><span class="line">        <span class="keyword">except</span> PageNotAnInteger:</span><br><span class="line">            data = paginator.page(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">except</span> EmptyPage:</span><br><span class="line">            data = paginator.page(paginator.num_pages)</span><br><span class="line"></span><br><span class="line">        serializer = ProductSerializer(data,context=&#123;<span class="string">'request'</span>: request&#125; ,many=<span class="keyword">True</span>)</span><br><span class="line">        <span class="keyword">if</span> data.has_next():</span><br><span class="line">            nextPage = data.next_page_number()</span><br><span class="line">        <span class="keyword">if</span> data.has_previous():</span><br><span class="line">            previousPage = data.previous_page_number()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Response(&#123;<span class="string">'data'</span>: serializer.data , <span class="string">'count'</span>: paginator.count, <span class="string">'numpages'</span> : paginator.num_pages, <span class="string">'nextlink'</span>: <span class="string">'/api/products/?page='</span> + str(nextPage), <span class="string">'prevlink'</span>: <span class="string">'/api/products/?page='</span> + str(previousPage)&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">'POST'</span>:</span><br><span class="line">        serializer = ProductSerializer(data=request.data)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid():</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.data, status=status.HTTP_201_CREATED)</span><br><span class="line">        <span class="keyword">return</span> Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)</span><br></pre></td></tr></table></figure>
<p>This function first checks if it’s a GET or POST request then preforms the processing based on the type of the request:</p>
<ul>
<li>If it’s a GET request, the function retrieves the page number from the GET request or use the first page by default if no page is submitted then retrieves the request page of products, serialize it and return it back alongside with other information such as the next page and previous page links.</li>
<li>If it’s a POST request, the function creates the product based on the POST data.</li>
</ul>
<h3 id="Adding-the-Product-Detail-API-View"><a href="#Adding-the-Product-Detail-API-View" class="headerlink" title="Adding the Product Detail API View"></a>Adding the Product Detail API View</h3><p>Now you need to add the view function that will be responsible for getting, updating or deleting a single product by <em>id</em> depending on the type of the HTTP request (GET, PUT or DELETE).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@api_view(['GET', 'PUT', 'DELETE'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product_detail</span><span class="params">(request, pk)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Retrieve, update or delete a product instance.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        product = Product.objects.get(pk=pk)</span><br><span class="line">    <span class="keyword">except</span> Product.DoesNotExist:</span><br><span class="line">        <span class="keyword">return</span> Response(status=status.HTTP_404_NOT_FOUND)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        serializer = ProductSerializer(product,context=&#123;<span class="string">'request'</span>: request&#125;)</span><br><span class="line">        <span class="keyword">return</span> Response(serializer.data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">'PUT'</span>:</span><br><span class="line">        serializer = ProductSerializer(product, data=request.data,context=&#123;<span class="string">'request'</span>: request&#125;)</span><br><span class="line">        <span class="keyword">if</span> serializer.is_valid():</span><br><span class="line">            serializer.save()</span><br><span class="line">            <span class="keyword">return</span> Response(serializer.data)</span><br><span class="line">        <span class="keyword">return</span> Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> request.method == <span class="string">'DELETE'</span>:</span><br><span class="line">        product.delete()</span><br><span class="line">        <span class="keyword">return</span> Response(status=status.HTTP_204_NO_CONTENT)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/31/正则化方法小结/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/31/正则化方法小结/" itemprop="url">正则化方法小结</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-31T22:35:05+08:00">
                2018-12-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>  在总结正则化（Regularization）之前，我们先谈一谈正则化是什么，为什么要正则化。</p>
<p>  个人认为正则化这个字眼有点太过抽象和宽泛，<strong>其实正则化的本质很简单，就是对某一问题加以先验的限制或约束以达到某种特定目的的一种手段或操作。在算法中使用正则化的目的是防止模型出现过拟合</strong>。一提到正则化，很多同学可能马上会想到常用的L1范数和L2范数，在汇总之前，我们先看下LP范数是什么鬼。</p>
<h3 id="LP范数"><a href="#LP范数" class="headerlink" title="LP范数"></a>LP范数</h3><p>  范数简单可以理解为用来表征向量空间中的距离，而距离的定义很抽象，只要满足<strong>非负、自反、三角不等式</strong>就可以称之为距离。</p>
<p>  <code>LP</code>范数不是一个范数，而是一组范数，其定义如下：</p>
<p><img src="1.png" alt="1"></p>
<p>  <code>p</code>的范围是[1, +∞],<strong><code>p</code>在(0,1)范围内定义的并不是范数，因为违反了三角不等式。</strong></p>
<p>根据p的变化，范数也有着不同的变化，借用一个经典的有关P范数的变化图如下：</p>
<p><img src="2.png" alt="1"></p>
<p>  上图表示了<code>p</code>从<code>0</code>到正无穷变化时，单位球（unit ball）的变化情况。在P范数下定义的单位球都是凸集，但是当0&lt;p&lt;1时，该定义下的单位球不是凸集（这个我们之前提过，当0&lt;p&lt;1时并不是范数）。</p>
<p>那问题来了，<code>L0</code>范数是啥玩意？</p>
<p><code>L0</code>范数表示向量中非零元素的个数，用公式表示如下：</p>
<p><img src="3.png" alt="3"></p>
<p>  我们可以通过最小化<code>L0</code>范数，来寻找最少最优的稀疏特征项。但不幸的是，<code>L0</code>范数的最优化问题是一个<code>NP hard</code>问题（<code>L0</code>范数同样是非凸的）。因此，在实际应用中我们经常对<code>L0</code>进行凸松弛，理论上有证明，<code>L1</code>范数是<code>L0</code>范数的最优凸近似，因此通常使用<code>L1</code>范数来代替直接优化<code>L0</code>范数。</p>
<h3 id="L1范数"><a href="#L1范数" class="headerlink" title="L1范数"></a>L1范数</h3><p>  根据<code>LP</code>范数的定义我们可以很轻松的得到<code>L1</code>范数的数学形式：</p>
<p><img src="4.png" alt="4"></p>
<p>  通过上式可以看到，<code>L1</code>范数就是向量各元素的绝对值之和，也被称为是”<strong>稀疏规则算子</strong>“（Lasso regularization）。那么问题来了，为什么我们希望稀疏化？稀疏化有很多好处，最直接的两个：</p>
<ul>
<li>特征选择</li>
<li>可解释性</li>
</ul>
<h3 id="L2范数"><a href="#L2范数" class="headerlink" title="L2范数"></a>L2范数</h3><p>  <code>L2</code>范数是我们最熟悉的，它就是欧几里得距离，公式如下：</p>
<p><img src="5.png" alt="5"></p>
<p>  <code>L2</code>范数有很多名称，有人把它的回归叫“<strong>岭回归</strong>”（Ridge Regression），也有人叫它“<strong>权值衰减</strong>”（Weight Decay）。<strong>以<code>L2</code>范数作为正则项可以得到稠密解，即每个特征对应的参数w都很小，接近于0但是不为0</strong>；此外，<code>L2</code>范数作为正则化项，<strong>可以防止模型为了迎合训练集而过于复杂造成过拟合的情况，从而提高模型的泛化能力</strong>。</p>
<h3 id="L1范数和L2范数的区别"><a href="#L1范数和L2范数的区别" class="headerlink" title="L1范数和L2范数的区别"></a>L1范数和L2范数的区别</h3><p>  引入<code>PRML</code>一个经典的图来说明下<code>L1</code>和<code>L2</code>范数的区别，如下图所示：</p>
<p><img src="1.jpg" alt="1"></p>
<p>  如上图所示，蓝色的圆圈表示问题可能的解范围，橘色的表示正则项可能的解范围。而整个目标函数（原问题+正则项）有解当且仅当两个解范围相切。从上图可以很容易地看出，由于<code>L2</code>范数解范围是圆，所以相切的点有很大可能不在坐标轴上，而由于<code>L1</code>范数是菱形（顶点是凸出来的），其相切的点更可能在坐标轴上，而坐标轴上的点有一个特点，其只有一个坐标分量不为零，其他坐标分量为零，即是稀疏的。所以有如下结论，<code>L1</code>范数可以导致稀疏解，<code>L2</code>范数导致稠密解。</p>
<p>从贝叶斯先验的角度看，当训练一个模型时，仅依靠当前的训练数据集是不够的，为了实现更好的泛化能力，往往需要加入先验项，而加入正则项相当于加入了一种先验。</p>
<ul>
<li><p><code>L1</code>范数相当于加入了一个<code>Laplacean</code>先验；</p>
</li>
<li><p><code>L2</code>范数相当于加入了一个<code>Gaussian</code>先验。</p>
<p><img src="2.jpg" alt="2"></p>
</li>
</ul>
<h3 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h3><p>  <code>Dropout</code>是深度学习中经常采用的一种正则化方法。它的做法可以简单的理解为在<code>DNNs</code>训练的过程中以概率<code>p</code>丢弃部分神经元，即使得被丢弃的神经元输出为0。<code>Dropout</code>可以实例化的表示为下图：</p>
<p><img src="3.jpg" alt="3"></p>
<p>我们可以从两个方面去直观地理解<code>Dropout</code>的正则化效果：</p>
<ul>
<li>在<code>Dropout</code>每一轮训练过程中随机丢失神经元的操作相当于多个<code>DNNs</code>进行取平均，因此用于预测具有<code>vote</code>的效果。</li>
<li>减少神经元之间复杂的共适应性。当隐藏层神经元被随机删除之后，使得全连接网络具有了一定的稀疏化，从而有效地减轻了不同特征的协同效应。也就是说，有些特征可能会依赖于固定关系的隐含节点的共同作用，而通过<code>Dropout</code>的话，就有效地组织了某些特征在其他特征存在下才有效果的情况，增加了神经网络的鲁棒性。</li>
</ul>
<h3 id="Batch-Normalization"><a href="#Batch-Normalization" class="headerlink" title="Batch Normalization"></a>Batch Normalization</h3><p>  批规范化（Batch Normalization）严格意义上讲属于归一化手段，主要用于加速网络的收敛，但也具有一定程度的正则化效果。</p>
<p>这里借鉴下魏秀参博士的知乎回答中对covariate shift的解释。</p>
<blockquote>
<p>大家都知道在统计机器学习中的一个经典假设是“源空间（source domain）和目标空间（target domain）的数据分布（distribution）是一致的”。如果不一致，那么就出现了新的机器学习问题，如transfer  learning/domain adaptation等。而covariate  shift就是分布不一致假设之下的一个分支问题，它是指源空间和目标空间的条件概率是一致的，但是其边缘概率不同。大家细想便会发现，的确，对于神经网络的各层输出，由于它们经过了层内操作作用，其分布显然与各层对应的输入信号分布不同，而且差异会随着网络深度增大而增大，可是它们所能“指示”的样本标记（label）仍然是不变的，这便符合了covariate  shift的定义。</p>
<p>BN的基本思想其实相当直观，因为神经网络在做非线性变换前的激活输入值（X = WU + B，U是输入），随着网络深度加深，其分布逐渐发生偏移或者变动（即上述的covariate shift）。之所以训练收敛慢，一般是整体分布逐渐往非线性函数的取值区间的上下限两端靠近（对于Sigmoid函数来说，意味着激活输入值（X = WU + B）是大的负值和正值。所以这导致后向传播时低层神经网络的梯度消失，这是训练深层神经网络收敛越来越慢的本质原因。而 BN 就是通过一定的规范化手段，把每层神经网络任意神经元这个输入值的分布强行拉回到均值为0方差为1的标准正态分布，避免因为激活函数导致的梯度弥散问题。所以与其说BN的作用是缓解covariate shift，倒不如说BN可缓解梯度弥散问题。</p>
</blockquote>
<h3 id="归一化、标准化-amp-正则化"><a href="#归一化、标准化-amp-正则化" class="headerlink" title="归一化、标准化 &amp; 正则化"></a>归一化、标准化 &amp; 正则化</h3><p>  正则化我们已经提到过了，这里简单提一下归一化和标准化。</p>
<p><strong>归一化（Normalization）</strong>：归一化的目标是找到某种映射关系，将原数据映射到<code>[a,b]</code>区间上。一般a，b会取<code>[-1,1]</code>，<code>[0,1]</code>这些组合 。</p>
<p>一般有两种应用场景：</p>
<ul>
<li>把数变为<code>(0, 1)</code>之间的小数</li>
<li>把有量纲的数转化为无量纲的数</li>
</ul>
<p>常用Min-Max Normalization：</p>
<p><img src="6.png" alt="6"></p>
<p><strong>标准化（Standardization）**</strong>：用大数定理将数据转化为一个标准正态分布**，标准化公式为：</p>
<p><img src="7.png" alt="7"></p>
<p><strong>归一化和标准化的区别：</strong></p>
<p>我们可以这样简单地解释：</p>
<p>归一化的缩放是“拍扁”统一到区间（仅由极值决定），而标准化的缩放是更加“弹性”和“动态”的，和整体样本的分布有很大的关系。</p>
<p><strong>值得注意：</strong></p>
<p>归一化：缩放仅仅跟最大、最小值的差别有关。</p>
<p>标准化：缩放和每个点都有关系，通过方差（variance）体现出来。与归一化对比，标准化中所有数据点都有贡献（通过均值和标准差造成影响）。</p>
<p><strong>为什么要标准化和归一化？</strong></p>
<ul>
<li>提升模型精度：归一化后，不同维度之间的特征在数值上有一定比较性，可以大大提高分类器的准确性。</li>
<li>加速模型收敛：标准化后，最优解的寻优过程明显会变得平缓，更容易正确的收敛到最优解。如下图所示：</li>
</ul>
<p><img src="8.png" alt="8"></p>
<p><img src="9.png" alt="9"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/26/SortAlgorithm/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/26/SortAlgorithm/" itemprop="url">十大经典排序算法动画与解析</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-26T12:32:43+08:00">
                2018-12-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>排序算法是《数据结构与算法》中最基本的算法之一</p>
<p>排序算法可以分为<strong>内部排序</strong>和<strong>外部排序</strong>。</p>
<p>内部排序是数据记录在内存中进行排序。</p>
<p>而外部排序是因排序的数据很大，一次不能容纳全部的排序记录，在排序过程中需要访问外存。</p>
<p>常见的内部排序算法有：插入排序、希尔排序、选择排序、冒泡排序、归并排序、快速排序、堆排序、基数排序等。</p>
<p>用一张图概括：</p>
<p><img src="1.png" alt="640"></p>
<h4 id="关于时间复杂度："><a href="#关于时间复杂度：" class="headerlink" title="关于时间复杂度："></a><strong>关于时间复杂度：</strong></h4><ol>
<li>平方阶<code>(O(n2))</code> 排序 各类简单排序：直接插入、直接选择和冒泡排序。</li>
<li>线性对数阶 <code>(O(nlog2n))</code> 排序 快速排序、堆排序和归并排序；</li>
<li><code>O(n1+§))</code> 排序，§ 是介于<code>0</code> 和 <code>1</code>之间的常数。 希尔排序</li>
<li>线性阶<code>(O(n))</code> 排序 基数排序，此外还有桶、箱排序。</li>
</ol>
<h4 id="关于稳定性："><a href="#关于稳定性：" class="headerlink" title="关于稳定性："></a><strong>关于稳定性：</strong></h4><ol>
<li>稳定的排序算法：冒泡排序、插入排序、归并排序和基数排序。</li>
<li>不是稳定的排序算法：选择排序、快速排序、希尔排序、堆排序。</li>
</ol>
<h2 id="1-冒泡排序"><a href="#1-冒泡排序" class="headerlink" title="1. 冒泡排序"></a>1. 冒泡排序</h2><h4 id="1-1-算法步骤"><a href="#1-1-算法步骤" class="headerlink" title="1.1 算法步骤"></a><strong>1.1 算法步骤</strong></h4><ul>
<li>比较相邻的元素。如果第一个比第二个大，就交换他们两个。</li>
<li>对每一对相邻元素作同样的工作，从开始第一对到结尾的最后一对。这步做完后，最后的元素会是最大的数。</li>
<li>针对所有的元素重复以上的步骤，除了最后一个。</li>
<li>持续每次对越来越少的元素重复上面的步骤，直到没有任何一对数字需要比较。</li>
</ul>
<h4 id="1-2-动画演示"><a href="#1-2-动画演示" class="headerlink" title="1.2 动画演示"></a>1.2 动画演示</h4><p><img src="2.gif" alt="2"></p>
<h4 id="1-3-参考代码"><a href="#1-3-参考代码" class="headerlink" title="1.3 参考代码"></a><strong>1.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BubbleSort1</span><span class="params">(<span class="keyword">int</span> *arr,<span class="keyword">int</span> sz)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;sz<span class="number">-1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;sz-i<span class="number">-1</span>;j++)&#123;</span><br><span class="line">             <span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">int</span> tmp = arr[j];</span><br><span class="line">                arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">                arr[j+<span class="number">1</span>] = tmp;</span><br><span class="line">            </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-选择排序"><a href="#2-选择排序" class="headerlink" title="2. 选择排序"></a>2. 选择排序</h2><h4 id="2-1-算法步骤"><a href="#2-1-算法步骤" class="headerlink" title="2.1 算法步骤"></a><strong>2.1 算法步骤</strong></h4><ul>
<li>首先在未排序序列中找到最小（大）元素，存放到排序序列的起始位置</li>
<li>再从剩余未排序元素中继续寻找最小（大）元素，然后放到已排序序列的末尾。</li>
<li>重复第二步，直到所有元素均排序完毕。</li>
</ul>
<h4 id="2-2-动画演示"><a href="#2-2-动画演示" class="headerlink" title="2.2 动画演示"></a><strong>2.2 动画演示</strong></h4><p><img src="3.gif" alt="3"></p>
<h4 id="2-3-参考代码"><a href="#2-3-参考代码" class="headerlink" title="2.3 参考代码"></a><strong>2.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectSort</span><span class="params">(<span class="keyword">int</span> *pData,<span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;size<span class="number">-1</span>;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> index = i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>;j&lt;size;++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(pData[j]&lt;pData[index])</span><br><span class="line">                index = j;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(index != i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = pData[i];</span><br><span class="line">            pData[i] = pData[index];</span><br><span class="line">            pData[index] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pData[<span class="number">10</span>]=&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;++i)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;pData[i]&lt;&lt;<span class="string">' '</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    SelectSort(pData,<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">10</span>;++i)</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;pData[i]&lt;&lt;<span class="string">' '</span>;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-插入排序"><a href="#3-插入排序" class="headerlink" title="3. 插入排序"></a>3. 插入排序</h2><h4 id="3-1-算法步骤"><a href="#3-1-算法步骤" class="headerlink" title="3.1 算法步骤"></a><strong>3.1 算法步骤</strong></h4><ul>
<li>将第一待排序序列第一个元素看做一个有序序列，把第二个元素到最后一个元素当成是未排序序列。</li>
<li>从头到尾依次扫描未排序序列，将扫描到的每个元素插入有序序列的适当位置。（如果待插入的元素与有序序列中的某个元素相等，则将待插入元素插入到相等元素的后面。）</li>
</ul>
<h4 id="3-2-动画演示"><a href="#3-2-动画演示" class="headerlink" title="3.2 动画演示"></a><strong>3.2 动画演示</strong></h4><p><img src="4.gif" alt="4"></p>
<h4 id="3-3-参考代码"><a href="#3-3-参考代码" class="headerlink" title="3.3 参考代码"></a><strong>3.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InsertSort</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> key = a[j]; <span class="comment">//待排序第一个元素</span></span><br><span class="line">        <span class="keyword">int</span> i = j - <span class="number">1</span>;  <span class="comment">//代表已经排过序的元素最后一个索引数</span></span><br><span class="line">        <span class="keyword">while</span> (i &gt;= <span class="number">0</span> &amp;&amp; key &lt; a[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//从后向前逐个比较已经排序过数组，如果比它小，则把后者用前者代替，</span></span><br><span class="line">            <span class="comment">//其实说白了就是数组逐个后移动一位,为找到合适的位置时候便于Key的插入</span></span><br><span class="line">            a[i + <span class="number">1</span>] = a[i];</span><br><span class="line">            i--;</span><br><span class="line">        &#125;</span><br><span class="line">        a[i + <span class="number">1</span>] = key; <span class="comment">//找到合适的位置了，赋值,在i索引的后面设置key值。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> d[] = &#123;<span class="number">12</span>, <span class="number">15</span>, <span class="number">9</span>, <span class="number">20</span>, <span class="number">6</span>, <span class="number">31</span>, <span class="number">24</span>&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"排序前数组：12, 15, 9, 20, 6, 31, 24, "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    InsertSort(d, <span class="number">7</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"排序后结果："</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; d[i] &lt;&lt;<span class="string">","</span>&lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-希尔排序"><a href="#4-希尔排序" class="headerlink" title="4. 希尔排序"></a>4. 希尔排序</h2><h4 id="4-1-算法步骤"><a href="#4-1-算法步骤" class="headerlink" title="4.1 算法步骤"></a><strong>4.1 算法步骤</strong></h4><ul>
<li>选择一个增量序列 t1，t2，……，tk，其中 ti &gt; tj, tk = 1；</li>
<li>按增量序列个数 k，对序列进行 k 趟排序；</li>
<li>每趟排序，根据对应的增量 ti，将待排序列分割成若干长度为 m 的子序列，分别对各子表进行直接插入排序。仅增量因子为 1 时，整个序列作为一个表来处理，表长度即为整个序列的长度。</li>
</ul>
<h4 id="4-2-动画演示"><a href="#4-2-动画演示" class="headerlink" title="4.2 动画演示"></a><strong>4.2 动画演示</strong></h4><p><img src="5.gif" alt="5"></p>
<h4 id="4-3-参考代码"><a href="#4-3-参考代码" class="headerlink" title="4.3 参考代码"></a><strong>4.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">shellSort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 从一个大的Gap开始， 不断缩小Gao</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> gap = n / <span class="number">2</span>; gap &gt; <span class="number">0</span>; gap /= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 对此间隙大小执行有缺口的插入排序。</span></span><br><span class="line">        <span class="comment">// 第一个间隙元素a[0..gap-1]已经是有间隙的顺序</span></span><br><span class="line">        <span class="comment">// 继续添加一个元素，直到整个数组都进行了间隙排序</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = gap; i &lt; n; i += <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 在已经进行间隙排序的元素中添加 a[i]</span></span><br><span class="line">            <span class="comment">// 在temp中保存 a[i] 并在第i个位置留个空隙</span></span><br><span class="line">            <span class="keyword">int</span> temp = arr[i];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 移动较早经过Gap-Sort的元素移动直到a[i]的位置被找到</span></span><br><span class="line">            <span class="keyword">int</span> j;</span><br><span class="line">            <span class="keyword">for</span> (j = i; j &gt;= gap &amp;&amp; arr[j - gap] &gt; temp; j -= gap)</span><br><span class="line">                arr[j] = arr[j - gap];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 把temp(原来的a[i])放到正确的位置</span></span><br><span class="line">            arr[j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arr[] = &#123;<span class="number">12</span>, <span class="number">34</span>, <span class="number">54</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">10</span>&#125;, i;</span><br><span class="line">    <span class="comment">//数组长度计算</span></span><br><span class="line">    <span class="keyword">int</span> n = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"排序前的数组: \n"</span>;</span><br><span class="line">    printArray(arr, n);</span><br><span class="line"></span><br><span class="line">    shellSort(arr, n);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"\n排序后的数组: \n"</span>;</span><br><span class="line">    printArray(arr, n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-归并排序"><a href="#5-归并排序" class="headerlink" title="5. 归并排序"></a>5. 归并排序</h2><h4 id="5-1-算法步骤"><a href="#5-1-算法步骤" class="headerlink" title="5.1 算法步骤"></a><strong>5.1 算法步骤</strong></h4><ul>
<li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列；</li>
<li>设定两个指针，最初位置分别为两个已经排序序列的起始位置；</li>
<li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置；</li>
<li>重复步骤 3 直到某一指针达到序列尾；</li>
<li>将另一序列剩下的所有元素直接复制到合并序列尾。</li>
</ul>
<h4 id="5-2-动画演示"><a href="#5-2-动画演示" class="headerlink" title="5.2 动画演示"></a><strong>5.2 动画演示</strong></h4><p><img src="6.gif" alt="6"></p>
<h4 id="5-3-参考代码"><a href="#5-3-参考代码" class="headerlink" title="5.3 参考代码"></a><strong>5.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* Merge sort in C++ */</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Function to Merge Arrays L and R into A.</span></span><br><span class="line"><span class="comment">// lefCount = number of elements in L</span></span><br><span class="line"><span class="comment">// rightCount = number of elements in R.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Merge</span><span class="params">(<span class="keyword">int</span> *A,<span class="keyword">int</span> *L,<span class="keyword">int</span> leftCount,<span class="keyword">int</span> *R,<span class="keyword">int</span> rightCount)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i,j,k;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">// i - to mark the index of left aubarray (L)</span></span><br><span class="line">	<span class="comment">// j - to mark the index of right sub-raay (R)</span></span><br><span class="line">	<span class="comment">// k - to mark the index of merged subarray (A)</span></span><br><span class="line">	i = <span class="number">0</span>; j = <span class="number">0</span>; k =<span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">while</span>(i&lt;leftCount &amp;&amp; j&lt; rightCount) &#123;</span><br><span class="line">		<span class="keyword">if</span>(L[i]  &lt; R[j]) A[k++] = L[i++];</span><br><span class="line">		<span class="keyword">else</span> A[k++] = R[j++];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(i &lt; leftCount) A[k++] = L[i++];</span><br><span class="line">	<span class="keyword">while</span>(j &lt; rightCount) A[k++] = R[j++];</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// Recursive function to sort an array of integers.</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MergeSort</span><span class="params">(<span class="keyword">int</span> *A,<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> mid,i, *L, *R;</span><br><span class="line">	<span class="keyword">if</span>(n &lt; <span class="number">2</span>) <span class="keyword">return</span>; <span class="comment">// base condition. If the array has less than two element, do nothing.</span></span><br><span class="line"> </span><br><span class="line">	mid = n/<span class="number">2</span>;  <span class="comment">// find the mid index.</span></span><br><span class="line"> </span><br><span class="line">	<span class="comment">// create left and right subarrays</span></span><br><span class="line">	<span class="comment">// mid elements (from index 0 till mid-1) should be part of left sub-array</span></span><br><span class="line">	<span class="comment">// and (n-mid) elements (from mid to n-1) will be part of right sub-array</span></span><br><span class="line">	L = <span class="keyword">new</span> <span class="keyword">int</span>[mid];</span><br><span class="line">	R = <span class="keyword">new</span> <span class="keyword">int</span> [n - mid];</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;mid;i++) L[i] = A[i]; <span class="comment">// creating left subarray</span></span><br><span class="line">	<span class="keyword">for</span>(i = mid;i&lt;n;i++) R[i-mid] = A[i]; <span class="comment">// creating right subarray</span></span><br><span class="line"> </span><br><span class="line">	MergeSort(L,mid);  <span class="comment">// sorting the left subarray</span></span><br><span class="line">	MergeSort(R,n-mid);  <span class="comment">// sorting the right subarray</span></span><br><span class="line">	Merge(A,L,mid,R,n-mid);  <span class="comment">// Merging L and R into A as sorted list.</span></span><br><span class="line">	<span class="comment">// the delete operations is very important</span></span><br><span class="line">	<span class="keyword">delete</span> [] R;</span><br><span class="line">	<span class="keyword">delete</span> [] L;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">/* Code to test the MergeSort function. */</span></span><br><span class="line"> </span><br><span class="line">	<span class="keyword">int</span> A[] = &#123;<span class="number">6</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">15</span>,<span class="number">13</span>,<span class="number">12</span>,<span class="number">17</span>&#125;; <span class="comment">// creating an array of integers.</span></span><br><span class="line">	<span class="keyword">int</span> i,numberOfElements;</span><br><span class="line"> </span><br><span class="line">	<span class="comment">// finding number of elements in array as size of complete array in bytes divided by size of integer in bytes.</span></span><br><span class="line">	<span class="comment">// This won't work if array is passed to the function because array</span></span><br><span class="line">	<span class="comment">// is always passed by reference through a pointer. So sizeOf function will give size of pointer and not the array.</span></span><br><span class="line">	<span class="comment">// Watch this video to understand this concept - http://www.youtube.com/watch?v=CpjVucvAc3g</span></span><br><span class="line">	numberOfElements = <span class="keyword">sizeof</span>(A)/<span class="keyword">sizeof</span>(A[<span class="number">0</span>]);</span><br><span class="line"> </span><br><span class="line">	<span class="comment">// Calling merge sort to sort the array.</span></span><br><span class="line">	MergeSort(A,numberOfElements);</span><br><span class="line"> </span><br><span class="line">	<span class="comment">//printing all elements in the array once its sorted.</span></span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; numberOfElements;i++)</span><br><span class="line">	   <span class="built_in">cout</span> &lt;&lt; <span class="string">" "</span> &lt;&lt; A[i];</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-快速排序"><a href="#6-快速排序" class="headerlink" title="6. 快速排序"></a>6. 快速排序</h2><h4 id="6-1-算法步骤"><a href="#6-1-算法步骤" class="headerlink" title="6.1 算法步骤"></a><strong>6.1 算法步骤</strong></h4><ul>
<li>从数列中挑出一个元素，称为 “基准”（pivot）;</li>
<li>重新排序数列，所有元素比基准值小的摆放在基准前面，所有元素比基准值大的摆在基准的后面（相同的数可以到任一边）。在这个分区退出之后，该基准就处于数列的中间位置。这个称为分区（partition）操作；</li>
<li>递归地（recursive）把小于基准值元素的子数列和大于基准值元素的子数列排序；</li>
</ul>
<h4 id="6-2-动画演示"><a href="#6-2-动画演示" class="headerlink" title="6.2 动画演示"></a><strong>6.2 动画演示</strong></h4><p><img src="7.gif" alt="7"></p>
<h4 id="6-3-参考代码"><a href="#6-3-参考代码" class="headerlink" title="6.3 参考代码"></a><strong>6.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* low  --&gt; Starting index,  high  --&gt; Ending index */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = t;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* This function takes last element as pivot, places </span></span><br><span class="line"><span class="comment">   the pivot element at its correct position in sorted </span></span><br><span class="line"><span class="comment">    array, and places all smaller (smaller than pivot) </span></span><br><span class="line"><span class="comment">   to left of pivot and all greater elements to right </span></span><br><span class="line"><span class="comment">   of pivot */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pivot = arr[high]; <span class="comment">// pivot</span></span><br><span class="line">    <span class="keyword">int</span> i = (low - <span class="number">1</span>);     <span class="comment">// Index of smaller element</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = low; j &lt;= high - <span class="number">1</span>; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// If current element is smaller than or</span></span><br><span class="line">        <span class="comment">// equal to pivot</span></span><br><span class="line">        <span class="keyword">if</span> (arr[j] &lt;= pivot)</span><br><span class="line">        &#123;</span><br><span class="line">            i++; <span class="comment">// increment index of smaller element</span></span><br><span class="line">            swap(&amp;arr[i], &amp;arr[j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(&amp;arr[i + <span class="number">1</span>], &amp;arr[high]);</span><br><span class="line">    <span class="keyword">return</span> (i + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* The main function that implements QuickSort </span></span><br><span class="line"><span class="comment"> arr[] --&gt; Array to be sorted, </span></span><br><span class="line"><span class="comment">  low  --&gt; Starting index, </span></span><br><span class="line"><span class="comment">  high  --&gt; Ending index */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (low &lt; high)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* pi is partitioning index, arr[p] is now </span></span><br><span class="line"><span class="comment">           at right place */</span></span><br><span class="line">        <span class="keyword">int</span> pi = partition(arr, low, high);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Separately sort elements before</span></span><br><span class="line">        <span class="comment">// partition and after partition</span></span><br><span class="line">        quickSort(arr, low, pi - <span class="number">1</span>);</span><br><span class="line">        quickSort(arr, pi + <span class="number">1</span>, high);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Function to print an array */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver program to test above functions</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> arr[] = &#123;<span class="number">10</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> n = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    quickSort(arr, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Sorted array: \n"</span>);</span><br><span class="line">    printArray(arr, n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="7-堆排序"><a href="#7-堆排序" class="headerlink" title="7. 堆排序"></a>7. 堆排序</h2><h4 id="7-1-算法步骤"><a href="#7-1-算法步骤" class="headerlink" title="7.1 算法步骤"></a><strong>7.1 算法步骤</strong></h4><ul>
<li>创建一个堆 H[0……n-1]；</li>
<li>把堆首（最大值）和堆尾互换；</li>
<li>把堆的尺寸缩小 1，并调用 shift_down(0)，目的是把新的数组顶端数据调整到相应位置；</li>
<li>重复步骤 2，直到堆的尺寸为 1。</li>
</ul>
<h4 id="7-2-动画演示"><a href="#7-2-动画演示" class="headerlink" title="7.2 动画演示"></a><strong>7.2 动画演示</strong></h4><p><img src="8.gif" alt="8"></p>
<h4 id="7-3-参考代码"><a href="#7-3-参考代码" class="headerlink" title="7.3 参考代码"></a><strong>7.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//辅助交换函数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Swap</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//堆排序的核心是建堆,传入参数为数组，根节点位置，数组长度</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heap_build</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> root, <span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lchild = root * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">//根节点的左子结点下标</span></span><br><span class="line">    <span class="keyword">if</span> (lchild &lt; length)       <span class="comment">//左子结点下标不能超出数组的长度</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flag = lchild;       <span class="comment">//flag保存左右节点中最大值的下标</span></span><br><span class="line">        <span class="keyword">int</span> rchild = lchild + <span class="number">1</span>; <span class="comment">//根节点的右子结点下标</span></span><br><span class="line">        <span class="keyword">if</span> (rchild &lt; length)     <span class="comment">//右子结点下标不能超出数组的长度(如果有的话)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[rchild] &gt; a[flag]) <span class="comment">//找出左右子结点中的最大值</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag = rchild;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a[root] &lt; a[flag])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//交换父结点和比父结点大的最大子节点</span></span><br><span class="line">            Swap(a[root], a[flag]);</span><br><span class="line">            <span class="comment">//从此次最大子节点的那个位置开始递归建堆</span></span><br><span class="line">            Heap_build(a, flag, length);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Heap_sort</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len / <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) <span class="comment">//从最后一个非叶子节点的父结点开始建堆</span></span><br><span class="line">    &#123;</span><br><span class="line">        Heap_build(a, i, len);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = len - <span class="number">1</span>; j &gt; <span class="number">0</span>; --j) <span class="comment">//j表示数组此时的长度，因为len长度已经建过了，从len-1开始</span></span><br><span class="line">    &#123;</span><br><span class="line">        Swap(a[<span class="number">0</span>], a[j]);    <span class="comment">//交换首尾元素,将最大值交换到数组的最后位置保存</span></span><br><span class="line">        Heap_build(a, <span class="number">0</span>, j); <span class="comment">//去除最后位置的元素重新建堆，此处j表示数组的长度，最后一个位置下标变为len-2</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">12</span>, <span class="number">45</span>, <span class="number">748</span>, <span class="number">12</span>, <span class="number">56</span>, <span class="number">3</span>, <span class="number">89</span>, <span class="number">4</span>, <span class="number">48</span>, <span class="number">2</span>&#125;;</span><br><span class="line">    Heap_sort(a, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i != <span class="number">10</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="8-计数排序"><a href="#8-计数排序" class="headerlink" title="8. 计数排序"></a>8. 计数排序</h2><h4 id="8-1-算法步骤"><a href="#8-1-算法步骤" class="headerlink" title="8.1 算法步骤"></a><strong>8.1 算法步骤</strong></h4><ul>
<li>花O(n)的时间扫描一下整个序列 A，获取最小值 min 和最大值 max</li>
<li>开辟一块新的空间创建新的数组 B，长度为 ( max - min + 1)</li>
<li>数组 B 中 index 的元素记录的值是 A 中某元素出现的次数</li>
<li>最后输出目标整数序列，具体的逻辑是遍历数组 B，输出相应元素以及对应的个数</li>
</ul>
<h4 id="8-2-动画演示"><a href="#8-2-动画演示" class="headerlink" title="8.2 动画演示"></a><strong>8.2 动画演示</strong></h4><p><img src="9.gif" alt="9"></p>
<h4 id="8-3-参考代码"><a href="#8-3-参考代码" class="headerlink" title="8.3 参考代码"></a><strong>8.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C Program for counting sort</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> RANGE 255</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// The main function that sort the given string arr[] in</span></span><br><span class="line"><span class="comment">// alphabatical order</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="keyword">char</span> arr[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// The output character array that will have sorted arr</span></span><br><span class="line">    <span class="keyword">char</span> output[<span class="built_in">strlen</span>(arr)];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a count array to store count of inidividul</span></span><br><span class="line">    <span class="comment">// characters and initialize count array as 0</span></span><br><span class="line">    <span class="keyword">int</span> count[RANGE + <span class="number">1</span>], i;</span><br><span class="line">    <span class="built_in">memset</span>(count, <span class="number">0</span>, <span class="keyword">sizeof</span>(count));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Store count of each character</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; arr[i]; ++i)</span><br><span class="line">        ++count[arr[i]];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Change count[i] so that count[i] now contains actual</span></span><br><span class="line">    <span class="comment">// position of this character in output array</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= RANGE; ++i)</span><br><span class="line">        count[i] += count[i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Build the output character array</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; arr[i]; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        output[count[arr[i]] - <span class="number">1</span>] = arr[i];</span><br><span class="line">        --count[arr[i]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">     For Stable algorithm  </span></span><br><span class="line"><span class="comment">     for (i = sizeof(arr)-1; i&gt;=0; --i) </span></span><br><span class="line"><span class="comment">    &#123; </span></span><br><span class="line"><span class="comment">        output[count[arr[i]]-1] = arr[i]; </span></span><br><span class="line"><span class="comment">        --count[arr[i]]; </span></span><br><span class="line"><span class="comment">    &#125; </span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">    For Logic : See implementation </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Copy the output array to arr, so that arr now</span></span><br><span class="line">    <span class="comment">// contains sorted characters</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; arr[i]; ++i)</span><br><span class="line">        arr[i] = output[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver program to test above function</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> arr[] = <span class="string">"geeksforgeeks"</span>; <span class="comment">//"applepp";</span></span><br><span class="line"></span><br><span class="line">    countSort(arr);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Sorted character array is %sn"</span>, arr);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="9-桶排序"><a href="#9-桶排序" class="headerlink" title="9. 桶排序"></a>9. 桶排序</h2><h4 id="9-1-算法步骤"><a href="#9-1-算法步骤" class="headerlink" title="9.1 算法步骤"></a><strong>9.1 算法步骤</strong></h4><ul>
<li>设置固定数量的空桶。</li>
<li>把数据放到对应的桶中。</li>
<li>对每个不为空的桶中数据进行排序。</li>
<li>拼接不为空的桶中数据，得到结果</li>
<li>桶排序耗用较大的辅助空间，所需要的辅助空间一般与被排序的数列的最大值与最小值有关</li>
</ul>
<h4 id="9-2-动画演示"><a href="#9-2-动画演示" class="headerlink" title="9.2 动画演示"></a><strong>9.2 动画演示</strong></h4><p><img src="10.gif" alt="10"></p>
<h4 id="9-3-参考代码"><a href="#9-3-参考代码" class="headerlink" title="9.3 参考代码"></a><strong>9.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bucketSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;vec)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length = vec.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; buckets(length, <span class="number">0</span>); <span class="comment">//准备一堆桶，容器的下标即待排序数组的键值或键值经过转化后的值</span></span><br><span class="line">    <span class="comment">//此时每个桶中都是没有放蛋的，所以都是0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        buckets[vec[i]]++; <span class="comment">//把每个蛋放入到对应的桶中</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">    &#123; <span class="comment">//把蛋取出，空桶则直接跳过</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; buckets[i]; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            vec[index++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//上例是直接将键值作为桶下标的程序，没有经过转化</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">2</span>&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(a, a + <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    bucketSort(vec);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; vec[i] &lt;&lt; <span class="string">"   "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="10-基数排序"><a href="#10-基数排序" class="headerlink" title="10. 基数排序"></a>10. 基数排序</h2><h4 id="10-1-算法步骤"><a href="#10-1-算法步骤" class="headerlink" title="10.1 算法步骤"></a><strong>10.1 算法步骤</strong></h4><ul>
<li>将所有待比较数值（正整数）统一为同样的数位长度，数位较短的数前面补零</li>
<li>从最低位开始，依次进行一次排序</li>
<li>从最低位排序一直到最高位排序完成以后, 数列就变成一个有序序列</li>
</ul>
<h4 id="10-2-动画演示"><a href="#10-2-动画演示" class="headerlink" title="10.2 动画演示"></a><strong>10.2 动画演示</strong></h4><p><img src="11.gif" alt="11"></p>
<h4 id="10-3-参考代码"><a href="#10-3-参考代码" class="headerlink" title="10.3 参考代码"></a><strong>10.3 参考代码</strong></h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">countSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;vec, <span class="keyword">int</span> <span class="built_in">exp</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123; <span class="comment">//计数排序</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; range(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> length = vec.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tmpVec(length, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        range[(vec[i] / <span class="built_in">exp</span>) % <span class="number">10</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; range.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        range[i] += range[i - <span class="number">1</span>]; <span class="comment">//统计本应该出现的位置</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">    &#123;</span><br><span class="line">        tmpVec[range[(vec[i] / <span class="built_in">exp</span>) % <span class="number">10</span>] - <span class="number">1</span>] = vec[i];</span><br><span class="line">        range[(vec[i] / <span class="built_in">exp</span>) % <span class="number">10</span>]--;</span><br><span class="line">    &#125;</span><br><span class="line">    vec = tmpVec;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">radixSort</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;vec)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length = vec.size();</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; ++i)</span><br><span class="line">    &#123; <span class="comment">//提取出最大值</span></span><br><span class="line">        <span class="keyword">if</span> (vec[i] &gt; max)</span><br><span class="line">            max = vec[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//提取每一位并进行比较，位数不足的高位补0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">exp</span> = <span class="number">1</span>; max / <span class="built_in">exp</span> &gt; <span class="number">0</span>; <span class="built_in">exp</span> *= <span class="number">10</span>)</span><br><span class="line">        countSort(vec, <span class="built_in">exp</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">10</span>] = &#123;<span class="number">53</span>, <span class="number">3</span>, <span class="number">542</span>, <span class="number">748</span>, <span class="number">14</span>, <span class="number">214</span>, <span class="number">154</span>, <span class="number">63</span>, <span class="number">616</span>, <span class="number">589</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(a, a + <span class="number">10</span>);</span><br><span class="line">    radixSort(vec);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vec.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; vec[i] &lt;&lt; <span class="string">"   "</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/13/TensorFlowExamples/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/13/TensorFlowExamples/" itemprop="url">TensorFlowExamples</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-13T21:23:17+08:00">
                2018-12-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/12/CookBook/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/12/CookBook/" itemprop="url">CookBook</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-12T22:32:43+08:00">
                2018-12-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python基础/" itemprop="url" rel="index">
                    <span itemprop="name">Python基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/Django流程/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/Django流程/" itemprop="url">Django流程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-04T16:24:58+08:00">
                2018-12-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Django/" itemprop="url" rel="index">
                    <span itemprop="name">Django</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Django-admin startproject mysite</span><br></pre></td></tr></table></figure>
<p><strong>注意：路径中不要带有中文</strong></p>
<p>层级目录说明</p>
<p><img src="1.png" alt="1"></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>manage.py</td>
<td>一个命令行工具，可以让我们用多种方式对Django项目进行交互</td>
</tr>
<tr>
<td>__init__.py</td>
<td>一个空文件，它告诉Python这个目录应该被看做一个包</td>
</tr>
<tr>
<td>settings.py</td>
<td>项目的配置文件（主要处理文件）</td>
</tr>
<tr>
<td>urls.py</td>
<td>项目的url声明 （主要处理文件）</td>
</tr>
<tr>
<td>wsgi.py</td>
<td>项目与WSGI兼容的Web服务器入口</td>
</tr>
</tbody>
</table>
<h3 id="配置数据库-mysql"><a href="#配置数据库-mysql" class="headerlink" title="配置数据库(mysql)"></a>配置数据库(mysql)</h3><p>  在Django中，默认使用 SQLite数据库，在settings.py文件中通过DATABASES选项进行数据库配置。</p>
<h4 id="配置mysql"><a href="#配置mysql" class="headerlink" title="配置mysql"></a>配置mysql</h4><p>  1.在mysite/__init__.py中写入两行代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mysql</span><br><span class="line">mysql.install_as_MySQLdb()</span><br></pre></td></tr></table></figure>
<p>  2.在settings.py中对DATABASES进行配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">    &apos;default&apos;: &#123;</span><br><span class="line">    &apos;ENGINE&apos;: &apos;django.db.backends.mysql&apos;,</span><br><span class="line">    &apos;NAME&apos;: &quot;my_site&quot;,</span><br><span class="line">    &apos;USER&apos;: &quot;root&quot;,</span><br><span class="line">    &apos;PASSWORD&apos;: &quot;m&quot;,</span><br><span class="line">    &apos;HOST&apos;: &quot;localhost&quot;,</span><br><span class="line">    &apos;PORT&apos;: &quot;3306&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><p>创建</p>
<p>  创建应用–在一个项目中可以创建多个应用，每个应用进行一种业务处理在manage.py所在文件夹下打开cmd，输入命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp myapp</span><br></pre></td></tr></table></figure>
<p>  层级目录说明</p>
<p><img src="2.png" alt="2"></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>admin.py</td>
<td>进行站点配置，用于注册模型等</td>
</tr>
<tr>
<td>models.py</td>
<td>创建模型</td>
</tr>
<tr>
<td>views.py</td>
<td>创建视图</td>
</tr>
<tr>
<td>test,py</td>
<td>网站测试</td>
</tr>
<tr>
<td>migration文件夹</td>
<td>于数据迁移</td>
</tr>
</tbody>
</table>
<h4 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h4><p>  在settings.py中，将myapo应用加入到INSTALLED.APPS选项中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    &apos;django.contrib.admin&apos;,</span><br><span class="line">    &apos;django.contrib.auth&apos;,</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,</span><br><span class="line">    &apos;django.contrib.sessions&apos;,</span><br><span class="line">    &apos;django.contrib.messages&apos;,</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,</span><br><span class="line">    &apos;myapp&apos;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="定义模型"><a href="#定义模型" class="headerlink" title="定义模型"></a>定义模型</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>  概述，有一个数据表就对应有一个模型。在models.py中定义模型。模型类要继承models.Model类。所以要import models这个类</p>
<p>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Classes</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    cname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    cdate = models.DateTimeField()</span><br><span class="line">    cgirlnum = models.IntegerField()</span><br><span class="line">    cboynum = models.IntegerField()</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="keyword">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    sname = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    sgender = models.BooleanField(default=<span class="keyword">True</span>)</span><br><span class="line">    sage = models.IntegerField()</span><br><span class="line">    scontend = models.CharField(max_length=<span class="number">20</span>)</span><br><span class="line">    isDelete = models.BooleanField(default=<span class="keyword">False</span>)</span><br><span class="line">    sgrade = models.ForeignKey(<span class="string">"Classes"</span>, on_delete=models.CASCADE,)</span><br></pre></td></tr></table></figure>
<p><strong>说明：不需要定义主键，在生成时自动添加，并且值为自动增加</strong></p>
<h4 id="迁移"><a href="#迁移" class="headerlink" title="迁移"></a>迁移</h4><p>  1.生成迁移文件，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br></pre></td></tr></table></figure>
<p>  2.执行迁移，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>
<h4 id="测试数据操作"><a href="#测试数据操作" class="headerlink" title="测试数据操作"></a>测试数据操作</h4><p>进入到python shell </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations</span><br></pre></td></tr></table></figure>
<p>引入包</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> myApp.models <span class="keyword">import</span> Grades, Students</span><br><span class="line"><span class="keyword">from</span> django.utils <span class="keyword">import</span> timezone</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>
<p>查询所有数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#类名.objects.all()</span></span><br><span class="line">Student.objects.all()</span><br></pre></td></tr></table></figure>
<p>添加数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Classes1 = Classes()</span><br><span class="line"></span><br><span class="line">Classes1.cname = <span class="string">"python"</span></span><br><span class="line">Classes1.cdate = datetime(year=<span class="number">2017</span>, month=<span class="number">7</span>, day=<span class="number">17</span>)</span><br><span class="line">Classes1.cgirlnum = <span class="number">3</span></span><br><span class="line">Classes1.cboynum = <span class="number">70</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##保存</span></span><br><span class="line">Classes1.save()</span><br></pre></td></tr></table></figure>
<p>查看某个对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#类名.objects.get(pk=1)   pk:primary key</span></span><br><span class="line">Classes.objects.get(pk=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#类名.objects.all()  得到所有</span></span><br><span class="line">Classes.objects.get(pk=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>关联对象</p>
<p>需求获取班所以普学生</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#关联的类名小写_set.all()</span></span><br><span class="line"><span class="class"><span class="keyword">class</span>.<span class="title">sutdents_set</span>.<span class="title">all</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>
<p>需求创建A，属于班</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stu3=classes1.students_set.create(**values)</span><br></pre></td></tr></table></figure>
<h3 id="启动服务器"><a href="#启动服务器" class="headerlink" title="启动服务器"></a>启动服务器</h3><p>格式：python manage.py runserver ip:port</p>
<h3 id="Admin站点管理"><a href="#Admin站点管理" class="headerlink" title="Admin站点管理"></a>Admin站点管理</h3><h4 id="创建管理员用户"><a href="#创建管理员用户" class="headerlink" title="创建管理员用户"></a>创建管理员用户</h4><p> 在manage.py文件所在目录执行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py createsuperuser</span><br></pre></td></tr></table></figure>
<p>一次输入账号、邮箱、密码即可创建用户</p>
<h4 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h4><p>  登陆网站： <a href="http://localhost:8000/admin/" target="_blank" rel="noopener">http://localhost:8000/admin/</a></p>
<p><img src="3.png" alt="3"></p>
<h4 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h4><p>  在settings.py中将LANGUAGE_CODE设置为’zh-Hans0’, TIME_ZONE=’Asia/Shanghai’</p>
<h4 id="管理数据表"><a href="#管理数据表" class="headerlink" title="管理数据表"></a>管理数据表</h4><p>修改myapp\admin.py:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">from django.contrib import admin</span><br><span class="line">#register your models here</span><br><span class="line">from .models import Classes, Students</span><br><span class="line">admin</span><br></pre></td></tr></table></figure>
<h4 id="自定义管理页面"><a href="#自定义管理页面" class="headerlink" title="自定义管理页面"></a>自定义管理页面</h4><p>属性说明</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表页属性</span></span><br><span class="line">         list_display = [] <span class="comment"># 显示字段设置</span></span><br><span class="line">         list_filter = [] <span class="comment"># 过滤字段设置</span></span><br><span class="line">         search_fields = [] <span class="comment"># 搜索字段设置</span></span><br><span class="line">         list_per_page = [] <span class="comment"># 分页设置</span></span><br><span class="line">         <span class="comment"># 添加，修改页属性</span></span><br><span class="line">         fields = [] <span class="comment"># 规定属性的先后顺序</span></span><br><span class="line">         fieldsets = [] <span class="comment"># 给属性分组 注意：fields与fieldsets不能同时使用</span></span><br><span class="line">     属性示例：</span><br><span class="line">         <span class="comment"># 列表页属性</span></span><br><span class="line">         list_display = [<span class="string">'pk'</span>, <span class="string">'gname'</span>, <span class="string">'gdate'</span>, <span class="string">'ggirlnum'</span>, <span class="string">'gboynum'</span>, <span class="string">'isDelete'</span>]</span><br><span class="line">         list_filter = [<span class="string">'gname'</span>]</span><br><span class="line">         search_fields = [<span class="string">'gname'</span>]</span><br><span class="line">         list_per_page = <span class="number">5</span></span><br><span class="line">         <span class="comment"># 添加，修改页属性</span></span><br><span class="line">         <span class="comment"># fields = ['ggirlnum', 'gboynum', 'gname', 'gdate', 'isDelete']</span></span><br><span class="line">         fieldsets = [</span><br><span class="line">             (<span class="string">"num"</span>,&#123;<span class="string">"fields"</span>:[<span class="string">'ggirlnum'</span>, <span class="string">'gboynum'</span>]&#125;),</span><br><span class="line">             (<span class="string">"base"</span>, &#123;<span class="string">"fields"</span>:[<span class="string">"gname"</span>, <span class="string">"gdate"</span>, <span class="string">"isDelete"</span>]&#125;),</span><br><span class="line">         ]</span><br><span class="line">     关联对象：需求：在创建一个班级时可以直接添加几个学生</span><br><span class="line">         <span class="class"><span class="keyword">class</span> <span class="title">StudentsInfo</span><span class="params">(admin.TabularInline)</span>:</span><span class="comment"># 可选参数admin.StackedInline</span></span><br><span class="line">             model = Students</span><br><span class="line">             extra = <span class="number">2</span></span><br><span class="line">         <span class="class"><span class="keyword">class</span> <span class="title">GradesAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">             inlines = [StudentsInfo]</span><br><span class="line">     布尔值显示问题示例：</span><br><span class="line">         <span class="class"><span class="keyword">class</span> <span class="title">StudentsAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">             <span class="function"><span class="keyword">def</span> <span class="title">gender</span><span class="params">(self)</span>:</span></span><br><span class="line">                 <span class="keyword">if</span> self.sgender:</span><br><span class="line">                     <span class="keyword">return</span> <span class="string">"男"</span></span><br><span class="line">                 <span class="keyword">else</span>:</span><br><span class="line">                     <span class="keyword">return</span> <span class="string">"女"</span></span><br><span class="line">             <span class="comment"># 设置页面列的名称</span></span><br><span class="line">             gender.short_description = <span class="string">"性别"</span></span><br><span class="line">             list_display = [<span class="string">'pk'</span>, <span class="string">'sname'</span>, <span class="string">'sage'</span>, gender,</span><br><span class="line">                             <span class="string">'scontend'</span>, <span class="string">'sgrade'</span>, <span class="string">'isDelete'</span>]</span><br><span class="line">             list_per_page = <span class="number">10</span></span><br><span class="line">         admin.site.register(Students, StudentsAdmin)</span><br><span class="line">     执行按钮位置：</span><br><span class="line">         <span class="class"><span class="keyword">class</span> <span class="title">StudentsAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">             ...snip...</span><br><span class="line">             actions_on_top = <span class="keyword">False</span></span><br><span class="line">             actions_on_bottom = <span class="keyword">True</span></span><br><span class="line">         admin.site.register(Students, StudentsAdmin)</span><br><span class="line">     使用装饰器完成注册：</span><br><span class="line"><span class="meta">         @admin.register(Students)</span></span><br><span class="line">             <span class="class"><span class="keyword">class</span> <span class="title">StudentsAdmin</span><span class="params">(admin.ModelAdmin)</span>:</span></span><br><span class="line">                 <span class="function"><span class="keyword">def</span> <span class="title">gender</span><span class="params">(self)</span>:</span></span><br><span class="line">                 ...snip...</span><br><span class="line">                 actions_on_top = <span class="keyword">False</span></span><br><span class="line">                 actions_on_bottom = <span class="keyword">True</span></span><br></pre></td></tr></table></figure>
<h3 id="视图的基本使用"><a href="#视图的基本使用" class="headerlink" title="视图的基本使用"></a>视图的基本使用</h3><h4 id="概述："><a href="#概述：" class="headerlink" title="概述："></a>概述：</h4><p>  在Django中，视图是对web请求进行回应，视图就是一个python函数</p>
<p>流程：</p>
<blockquote>
<p><strong>1.网址：</strong>Django获取网址信息，去掉端口。</p>
<p><strong>2.虚拟路径与文件名：</strong>url管理器逐个匹配urlconf，记录视图函数</p>
<p><strong>3.函数视图名：</strong>视图管理，找到对应的视图去执行，返回结果给浏览器</p>
<p><strong>4.相应的数据：</strong>返回第一步</p>
</blockquote>
<h4 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h4><h5 id="错误视图"><a href="#错误视图" class="headerlink" title="错误视图"></a>错误视图</h5><p>​    404视图：找不到网页（url匹配不成功时返回）</p>
<p>​    <strong>自定义 404 page：</strong></p>
<p>​    1.修改project/settings.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SECURITY WARNING: don't run with debug turned on in production!</span></span><br><span class="line">DEBUG = <span class="keyword">False</span></span><br><span class="line">ALLOWED_HOSTS = [<span class="string">"*"</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>在ALLOWED_HOSTS中设置”*“将允许你在debug中为false时使用任何host婞项目，不要再生产中这样做</li>
<li>设置DEBUG为Flase将会允许你的错误URL返回响应</li>
</ul>
<p>​    2.配置project/urls.py，添加上</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> handler404</span><br><span class="line">handler404 = <span class="string">'myapp.views.error_404_view'</span></span><br></pre></td></tr></table></figure>
<p>​    3.自定义404错误页面</p>
<p>   在/myapp/views.py中写入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">error_404_view</span><span class="params">(request, exception)</span>:</span></span><br><span class="line">    data = &#123;<span class="string">"name"</span>: <span class="string">"ThePythonDjango.com"</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> render(request,<span class="string">'error_404.html'</span>, data)</span><br></pre></td></tr></table></figure>
<p>​     这样，当用户输入错误的url，我们将会返回project下，templates中的error_404.html页面了</p>
<p>   接下来在project/templates文件夹中创建error_404.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span> This is a custom 404 error page which will </span><br><span class="line">         be shown instead of default 404 error page of Django everytime</span><br><span class="line">         incorrect urls is entered in browser.</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="urls配置"><a href="#urls配置" class="headerlink" title="urls配置"></a>urls配置</h4><h5 id="配置流程"><a href="#配置流程" class="headerlink" title="配置流程"></a>配置流程</h5><p>  1.定制根url配置文件</p>
<p>  setting.py中<strong>默认实现了</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ROOT_URLCONF = <span class="string">'project.urls'</span></span><br></pre></td></tr></table></figure>
<p>  2.urlpatterns</p>
<p> 在应用中创建urls.py</p>
<p>project/urls.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> handler404, handler500</span><br><span class="line"><span class="keyword">from</span> myapp <span class="keyword">import</span> urls</span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    path(<span class="string">''</span>, include(<span class="string">'myapp.urls'</span>))</span><br><span class="line">]</span><br><span class="line">handler404 = <span class="string">'myapp.views.error_404_view'</span></span><br></pre></td></tr></table></figure>
<p>project/myapp/urls.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> views</span><br><span class="line">urlpatterns = [</span><br><span class="line">  path(<span class="string">'index'</span>, views.index),</span><br><span class="line">  path(<span class="string">'&lt;int:a&gt;'</span>, views.number),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>url反响解析</p>
<p>概述：如果在视图，模板中使用了硬编码链接，在url配置发生改变时，动态生成链接的地址<br>解决：在使用链接时，通过url配置的名称，动态生成url地址<br>作用：使用url模板</p>
</li>
</ol>
<h5 id="视图函数"><a href="#视图函数" class="headerlink" title="视图函数"></a>视图函数</h5><p>  <strong>参数</strong></p>
<pre><code>*  一个Httprequest实例(request),
*  从urls中传递过来的参数
</code></pre><p>  <strong>HttpRequest 对象</strong></p>
<p>  概述：</p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;  服务器接收http请求后，会根据报文创建HttpRequest对象</span><br><span class="line">&gt;  视图的第一个参数就是HttpRequest对象</span><br><span class="line">&gt;  django创建的，之后调用视图时传递给视图</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<p>属性</p>
<ul>
<li>path:请求的完整路径（不包括域名和端口）</li>
<li>method:表示请求的方式，常用的有GET,POST</li>
<li>encoding:表示浏览器提交的数据的编码方式，一般为utf-8</li>
<li>GET：类似于字典的对象，包含了get请求的所有参数</li>
<li>POST:类似于字典的对象，包含了post请求的所有参数</li>
<li>FILES:类似字典的对象，包含了所有上传的文件</li>
<li>COOKIES:字典，包含所有的cookie</li>
<li>session:类似字典的对象，表示当前会话</li>
</ul>
<p>方法和对象</p>
<ul>
<li>is_ajax():如果是通过XMLHttpRequest发起的，返回 True</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/27/tf-strided-slice/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/27/tf-strided-slice/" itemprop="url">tf.strided_slice</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-27T15:35:21+08:00">
                2018-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/TensorFlow中的函数/" itemprop="url" rel="index">
                    <span itemprop="name">TensorFlow中的函数</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>tf.strided_slice其实就是TensorFlow中用来分片的函数。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">strided_slice</span><span class="params">(input_,</span></span></span><br><span class="line"><span class="function"><span class="params">                  begin,</span></span></span><br><span class="line"><span class="function"><span class="params">                  end,</span></span></span><br><span class="line"><span class="function"><span class="params">                  strides=None,</span></span></span><br><span class="line"><span class="function"><span class="params">                  begin_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  end_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  ellipsis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  new_axis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  shrink_axis_mask=<span class="number">0</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">                  var=None,</span></span></span><br><span class="line"><span class="function"><span class="params">                  name=None)</span>:</span></span><br></pre></td></tr></table></figure>
<p>begin是分片开始， end是分片结束，strides是步长，注意这边的步长其实是从步长的最后一位开始的</p>
<h3 id="Question："><a href="#Question：" class="headerlink" title="Question："></a>Question：</h3><p>I am wondering what <code>tf.strided_slice()</code> operator actually does.<br>The <a href="https://www.tensorflow.org/api_docs/python/array_ops/slicing_and_joining#strided_slice" target="_blank" rel="noopener">doc</a> says,</p>
<blockquote>
<p>To a first order, this operation extracts a slice of size end - begin from a tensor input starting at the location specified by begin. The slice continues by adding stride to the begin index until all dimensions are not less than end. Note that components of stride can be negative, which causes a reverse slice.</p>
</blockquote>
<p>And in the sample,</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 'input' is [[[1, 1, 1], [2, 2, 2]],</span></span><br><span class="line"><span class="comment">#             [[3, 3, 3], [4, 4, 4]],</span></span><br><span class="line"><span class="comment">#             [[5, 5, 5], [6, 6, 6]]]</span></span><br><span class="line">tf.slice(input, [1, 0, 0], [2, 1, 3], [1, 1, 1]) ==&gt; [[[3, 3, 3]]]</span><br><span class="line">tf.slice(input, [1, 0, 0], [2, 2, 3], [1, 1, 1]) ==&gt; [[[3, 3, 3],</span><br><span class="line">                                                       [<span class="number">4</span>, <span class="number">4</span>, <span class="number">4</span>]]]</span><br><span class="line">tf.slice(input, [1, 1, 0], [2, -1, 3], [1, -1, 1]) ==&gt;[[[4, 4, 4],</span><br><span class="line">                                                        [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]]]</span><br></pre></td></tr></table></figure>
<p>So in my understanding of the doc, the first sample (<code>tf.slice(input, begin=[1, 0, 0], end=[2, 1, 3], strides=[1, 1, 1])</code>),</p>
<ul>
<li>resulting size is <code>end - begin = [1, 1, 3]</code>. The sample result shows <code>[[[3, 3, 3,]]]</code>, that shape is <code>[1, 1, 3]</code>, it seems OK.</li>
<li>the first element of the result is at <code>begin = [1, 0, 0]</code>. The first element of the sample result is <code>3</code>, which is <code>input[1,0,0]</code>, it seems OK.</li>
<li>the slice continues by adding stride to the begin index. So the second element of the result should be <code>input[begin + strides] = input[2, 1, 1] = 6</code>, but the sample shows the second element is <code>3</code>.</li>
</ul>
<p>What <code>strided_slice()</code> does?</p>
<h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><p>The mistake in your argument is the fact that you are directly adding the lists <code>strides</code> and <code>begin</code>element by element. This will make the function a lot less useful. Instead, it increments the <code>begin</code>list one dimension at a time, starting from the last dimension.</p>
<p>Let’s solve the first example part by part. <code>begin = [1, 0, 0]</code> and <code>end = [2, 1, 3]</code>. Also, all the <code>strides</code> are <code>1</code>. Work your way backwards, from the last dimension.</p>
<p>Start with element <code>[1,0,0]</code>. Now <strong>increase the last dimension only by its stride amount</strong>, giving you <code>[1,0,1]</code>. Keep doing this until you reach the limit. Something like <code>[1,0,2]</code>, <code>[1,0,3]</code> (end of the loop). Now in your next iteration, start by incrementing the second to last dimension and resetting the last dimension, <code>[1,1,0]</code>. Here the second to last dimension is equal to <code>end[1]</code>, so move to the first dimension (third to last) and reset the rest, giving you <code>[2,0,0]</code>. Again you are at the first dimension’s limit, so quit the loop.</p>
<p>The following code is a recursive implementation of what I described above,</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Assume global `begin`, `end` and `stride`</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">iterate</span><span class="params">(active, dim)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> dim == len(begin):</span><br><span class="line">        <span class="comment"># last dimension incremented, work on the new matrix</span></span><br><span class="line">        <span class="comment"># Note that `active` and `begin` are lists</span></span><br><span class="line">        new_matrix[active - begin] = old_matrix[active]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(begin[dim], end[dim], stride[dim]):</span><br><span class="line">            new_active = copy(active)</span><br><span class="line">            new_active[dim] = i</span><br><span class="line">            iterate(new_active, dim + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">iterate(begin, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/22/html5/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/22/html5/" itemprop="url">HTML5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-22T20:04:48+08:00">
                2018-11-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="HTML-Attributes"><a href="#HTML-Attributes" class="headerlink" title="HTML Attributes"></a>HTML Attributes</h3><table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt</td>
<td>Specifies an alternative text for an image, when the image cannot be displayed                 图片无法显示时候提示是怎么样的图片</td>
</tr>
<tr>
<td>disabled</td>
<td>Specifies that an input element should be disabled</td>
</tr>
<tr>
<td>href</td>
<td>Specifies the URL (web address) for a link</td>
</tr>
<tr>
<td>id</td>
<td>Specifies a unique id for an element</td>
</tr>
<tr>
<td>src</td>
<td>Specifies the URL (web address) for an image  也就是图片的source</td>
</tr>
<tr>
<td>style</td>
<td>Specifies an inline CSS style for an element</td>
</tr>
<tr>
<td>title</td>
<td>Specifies extra information about an element (displayed as a tool tip)                                   鼠标停留时显示的字样</td>
</tr>
<tr>
<td>width, height</td>
<td>图片的宽和高</td>
</tr>
</tbody>
</table>
<h2 id="HTML-Horizontal-Rules-标签水平"><a href="#HTML-Horizontal-Rules-标签水平" class="headerlink" title="HTML Horizontal Rules 标签水平"></a>HTML Horizontal Rules 标签水平</h2><p>The <code>&lt;hr&gt;</code> tag defines a thematic break in an HTML page, and is most often displayed as a horizontal rule.</p>
<p>The <code>&lt;hr&gt;</code> element is used to separate content (or define a change) in an HTML page:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is heading 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is some text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>This is heading 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>This is some other text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="This-is-heading-1"><a href="#This-is-heading-1" class="headerlink" title="This is heading 1"></a>This is heading 1</h1><p>This is some text.</p>
<hr>
<h2 id="This-is-heading-2"><a href="#This-is-heading-2" class="headerlink" title="This is heading 2"></a>This is heading 2</h2><p>This is some other text.</p>
<hr>
<h2 id="This-is-heading-2-1"><a href="#This-is-heading-2-1" class="headerlink" title="This is heading 2"></a>This is heading 2</h2><p>This is some other text.</p>
<h2 id="Bigger-Headings-更大的标题"><a href="#Bigger-Headings-更大的标题" class="headerlink" title="Bigger Headings 更大的标题"></a>Bigger Headings 更大的标题</h2><p>Each HTML heading has a default size. However, you can specify the size for any heading with the <code>style</code> attribute, using the CSS <code>font-size</code> property:</p>
<p>也就是说h1, h2, h3这些的字体大小都是可以调整的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 style=&quot;font-size:60px;&quot;&gt;Heading 1&lt;/h1&gt;</span><br></pre></td></tr></table></figure>
<h2 id="The-HTML-lt-pre-gt-Element-标签实例预格式化的文本"><a href="#The-HTML-lt-pre-gt-Element-标签实例预格式化的文本" class="headerlink" title="The HTML &lt;pre&gt;  Element 标签实例预格式化的文本"></a>The HTML <code>&lt;pre&gt;</code>  Element 标签实例预格式化的文本</h2><p>The HTML <code>&lt;pre&gt;</code> element defines preformatted text.</p>
<p>The text inside a <code>&lt;pre&gt;</code> element is displayed in a fixed-width font (usually Courier), and it preserves both spaces and line breaks:</p>
<p>会保留文本原格式</p>
<table>
<thead>
<tr>
<th>Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>p</td>
<td>Defines a paragraph</td>
</tr>
<tr>
<td>br</td>
<td>Inserts a single line break</td>
</tr>
<tr>
<td>pre</td>
<td>Defines pre-formatted text</td>
</tr>
</tbody>
</table>
<h2 id="Style-Chapter-Summary"><a href="#Style-Chapter-Summary" class="headerlink" title="Style Chapter Summary"></a>Style Chapter Summary</h2><ul>
<li>Use the <code>style</code> attribute for styling HTML elements</li>
<li>Use <code>background-color</code> for background color</li>
<li>Use <code>color</code> for text colors</li>
<li>Use <code>font-family</code> for text fonts</li>
<li>Use <code>font-size</code> for text sizes</li>
<li>Use <code>text-align</code> for text alignment</li>
</ul>
<h3 id="HTML-Formatting"><a href="#HTML-Formatting" class="headerlink" title="HTML Formatting"></a>HTML Formatting</h3><ul>
<li><p><code>&lt;b&gt;</code> - Bold text</p>
</li>
<li><p><code>&lt;strong&gt;</code> - Important text</p>
</li>
<li><p><code>&lt;i&gt;</code> - Italic text</p>
</li>
<li><p><code>&lt;em&gt;</code> - Emphasized text</p>
</li>
<li><p><code>&lt;mark&gt;</code> - Marked text</p>
</li>
<li><p><code>&lt;small&gt;</code> - Small text</p>
</li>
<li><p><code>&lt;del&gt;</code> - Deleted text</p>
</li>
<li><p><code>&lt;ins&gt;</code> - Inserted text</p>
</li>
<li><p><code>&lt;sub&gt;</code> - Subscript text</p>
</li>
<li><p><code>&lt;sup&gt;</code> - Superscript text</p>
</li>
</ul>
<p>  mark <code>&lt;mark&gt;</code></p>
<p>  ​                  <img src="1.png" alt="1"></p>
<p>  del  <code>&lt;del&gt;</code></p>
<p>  ​                      <img src="2.png" alt="2"></p>
<p>  insert  <code>&lt;ins&gt;</code></p>
<p>  <img src="3.png" alt="3"></p>
<p>   small <code>&lt;small&gt;</code></p>
<p>​                         <img src="4.png" alt="4"></p>
<p>​    subscripted <code>&lt;sub&gt;</code></p>
<p><img src="5.png" alt="5"></p>
<p>​    superscripted  <code>&lt;sup&gt;</code></p>
<p><img src="6.png" alt="6"></p>
<h3 id="​-HTML-Quotation-and-Citation-Elements"><a href="#​-HTML-Quotation-and-Citation-Elements" class="headerlink" title="​    HTML Quotation and Citation Elements"></a>​    HTML Quotation and Citation Elements</h3><h2 id="HTML-lt-blockquote-gt-for-Quotations"><a href="#HTML-lt-blockquote-gt-for-Quotations" class="headerlink" title="HTML &lt;blockquote&gt; for Quotations"></a>HTML <code>&lt;blockquote&gt;</code> for Quotations</h2><p>The HTML <code>&lt;blockquote&gt;</code> element defines a section that is quoted from another source.</p>
<p>Browsers usually indent <code>&lt;blockquote&gt;</code> elements.  （块状引用）</p>
<p>The HTML <code>&lt;abbr&gt;</code> element defines an abbreviation or an acronym.（缩写简称 如：WHO是World Health Organization）</p>
<p>The HTML <code>&lt;address&gt;</code> element defines contact information (author/owner) of a document or an article.</p>
<p>The <code>&lt;address&gt;</code> element is usually displayed in italic. Most browsers will add a line break before and after the element.</p>
<table>
<thead>
<tr>
<th>Tag</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>abbr</td>
<td>Defines an abbreviation or acronym</td>
</tr>
<tr>
<td>address</td>
<td>Defines contact information for the author/owner of a document</td>
</tr>
<tr>
<td>bdo</td>
<td>Defines the text direction</td>
</tr>
<tr>
<td>blockquote</td>
<td>Defines a section that is quoted from another source</td>
</tr>
<tr>
<td>cite</td>
<td>Defines the title of a work</td>
</tr>
<tr>
<td>q</td>
<td>Defines a short inline quotation</td>
</tr>
</tbody>
</table>
<h2 id="The-HTML-lt-meta-gt-Element"><a href="#The-HTML-lt-meta-gt-Element" class="headerlink" title="The HTML &lt;meta&gt; Element"></a>The HTML <code>&lt;meta&gt;</code> Element</h2><p>The <code>&lt;meta&gt;</code> element is used to specify which character set is used, page description, keywords, author, and other metadata.</p>
<p>Metadata is used by browsers (how to display content), by search engines (keywords), and other web services.</p>
<p>Define the character set used:</p>
<h2 id="The-HTML-lt-base-gt-Element"><a href="#The-HTML-lt-base-gt-Element" class="headerlink" title="The HTML &lt;base&gt; Element"></a>The HTML <code>&lt;base&gt;</code> Element</h2><p>The <code>&lt;base&gt;</code> element specifies the base URL and base target for all relative URLs in a page:</p>
<h3 id="CSS-Floats"><a href="#CSS-Floats" class="headerlink" title="CSS Floats"></a>CSS Floats</h3><p>It is common to do entire web layouts using the CSS float property. Float is easy to learn - you just need to remember how the float and clear properties work.<strong>Disadvantages:</strong> Floating elements are tied to the document flow, which may harm the flexibility. Learn more about float in our <a href="https://www.w3schools.com/css/css_float.asp" target="_blank" rel="noopener">CSS Float and Clear</a> chapter.</p>
<h3 id="CSS-Flexbox"><a href="#CSS-Flexbox" class="headerlink" title="CSS Flexbox"></a>CSS Flexbox</h3><p>Flexbox is a new layout mode in CSS3.</p>
<p>Use of flexbox ensures that elements behave predictably when the page layout must accommodate different screen sizes and different display devices. <strong>Disadvantages:</strong>Does not work in IE10 and earlier.</p>
<p>Learn more about flexbox in our <a href="https://www.w3schools.com/css/css3_flexbox.asp" target="_blank" rel="noopener">CSS Flexbox</a> chapter.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>accept-charset</td>
<td>Specifies the charset used in the submitted form (default: the page charset).</td>
</tr>
<tr>
<td>action</td>
<td>Specifies an address (url) where to submit the form (default: the submitting page).</td>
</tr>
<tr>
<td>autocomplete</td>
<td>Specifies if the browser should autocomplete the form (default: on).</td>
</tr>
<tr>
<td>enctype</td>
<td>Specifies the encoding of the submitted data (default: is url-encoded).</td>
</tr>
<tr>
<td>method</td>
<td>Specifies the HTTP method used when submitting the form (default: GET).</td>
</tr>
<tr>
<td>name</td>
<td>Specifies a name used to identify the form (for DOM usage: document.forms.name).</td>
</tr>
<tr>
<td>novalidate</td>
<td>Specifies that the browser should not validate the form.</td>
</tr>
<tr>
<td>target</td>
<td>Specifies the target of the address in the action attribute (default: _self).</td>
</tr>
</tbody>
</table>
<h2 id="The-lt-select-gt-Element"><a href="#The-lt-select-gt-Element" class="headerlink" title="The &lt;select&gt; Element"></a>The <code>&lt;select&gt;</code> Element</h2><p>The <code>&lt;select&gt;</code> element defines a <strong>drop-down list</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cars"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"volvo"</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"saab"</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"fiat"</span>&gt;</span>Fiat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"audi"</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<select name="cars"><br>  <option value="volvo">Volvo</option><br>  <option value="saab">Saab</option><br>  <option value="fiat">Fiat</option><br>  <option value="audi">Audi</option><br></select>

<h3 id="Allow-Multiple-Selections"><a href="#Allow-Multiple-Selections" class="headerlink" title="Allow Multiple Selections:"></a>Allow Multiple Selections:</h3><p>Use the <code>multiple</code> attribute to allow the user to select more than one value:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"cars"</span> <span class="attr">size</span>=<span class="string">"4"</span> <span class="attr">multiple</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"volvo"</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"saab"</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"fiat"</span>&gt;</span>Fiat<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"audi"</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<select name="cars" size="4" multiple><br>  <option value="volvo">Volvo</option><br>  <option value="saab">Saab</option><br>  <option value="fiat">Fiat</option><br>  <option value="audi">Audi</option><br></select>    

<h2 id="The-lt-textarea-gt-Element"><a href="#The-lt-textarea-gt-Element" class="headerlink" title="The &lt;textarea&gt; Element"></a>The <code>&lt;textarea&gt;</code> Element</h2><p>The <code>&lt;textarea&gt;</code> element defines a multi-line input field (<strong>a text area</strong>):</p>
<h2 id="HTML5-lt-datalist-gt-Element"><a href="#HTML5-lt-datalist-gt-Element" class="headerlink" title="HTML5 &lt;datalist&gt;Element"></a>HTML5 <code>&lt;datalist&gt;</code>Element</h2><p>The <code>&lt;datalist&gt;</code> element specifies a list of pre-defined options for an <code>&lt;input&gt;</code> element.</p>
<p>Users will see a drop-down list of the pre-defined options as they input data.</p>
<p>The <code>list</code> attribute of the <code>&lt;input&gt;</code> element, must <strong>refer to the <code>id</code></strong> attribute of the <code>&lt;datalist&gt;</code> element.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/action_page.php"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">list</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">datalist</span> <span class="attr">id</span>=<span class="string">"browsers"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Internet Explorer"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Firefox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Chrome"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Opera"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"Safari"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">datalist</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action="/action_page.php"><br>  <input list="browsers"><br>  <datalist id="browsers"><br>    <option value="Internet Explorer"><br>    </option><option value="Firefox"><br>    </option><option value="Chrome"><br>    </option><option value="Opera"><br>    </option><option value="Safari"><br>  </option></datalist><br></form>

<h2 id="HTML5-lt-output-gt-Element"><a href="#HTML5-lt-output-gt-Element" class="headerlink" title="HTML5 &lt;output&gt;Element"></a>HTML5 <code>&lt;output&gt;</code>Element</h2><p>The <code>&lt;output&gt;</code> element represents the result of a calculation (like one performed by a script).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;/action_page.php&quot;</span><br><span class="line">  oninput=&quot;x.value=parseInt(a.value)+parseInt(b.value)&quot;&gt;</span><br><span class="line">  0</span><br><span class="line">  &lt;input type=&quot;range&quot;  id=&quot;a&quot; name=&quot;a&quot; value=&quot;50&quot;&gt;</span><br><span class="line">  100 +</span><br><span class="line">  &lt;input type=&quot;number&quot; id=&quot;b&quot; name=&quot;b&quot; value=&quot;50&quot;&gt;</span><br><span class="line">  =</span><br><span class="line">  &lt;output name=&quot;x&quot; for=&quot;a b&quot;&gt;&lt;/output&gt;</span><br><span class="line">  &lt;br&gt;&lt;br&gt;</span><br><span class="line">  &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure>
<form action="/action_page.php" oninput="x.value=parseInt(a.value)+parseInt(b.value)"><br>  0<br>  <input type="range" id="a" name="a" value="50"><br>  100 +<br>  <input type="number" id="b" name="b" value="50"><br>  =<br>  <output name="x" for="a b"></output><br>  <br><br><br>  <input type="submit"><br></form>

<h2 id="Input-Type-Password"><a href="#Input-Type-Password" class="headerlink" title="Input Type Password"></a>Input Type Password</h2><p><code>&lt;input type=&quot;password&quot;&gt;</code> defines a <strong>password field</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  User name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  User password:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"psw"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  User name:<br><br>  <input type="text" name="username"><br><br>  User password:<br><br>  <input type="password" name="psw"><br></form>

<h2 id="Input-Type-Checkbox"><a href="#Input-Type-Checkbox" class="headerlink" title="Input Type Checkbox"></a>Input Type Checkbox</h2><p><code>&lt;input type=&quot;checkbox&quot;&gt;</code> defines a <strong>checkbox</strong>.</p>
<p>Checkboxes let a user select ZERO or MORE options of a limited number of choices.</p>
<form><br>  <input type="checkbox" name="vehicle1" value="Bike"> I have a bike<br><br>  <input type="checkbox" name="vehicle2" value="Car"> I have a car<br></form>

<h2 id="Input-Type-Color"><a href="#Input-Type-Color" class="headerlink" title="Input Type Color"></a>Input Type Color</h2><p>The <code>&lt;input type=&quot;color&quot;&gt;</code> is used for input fields that should contain a color.</p>
<p>Depending on browser support, a color picker can show up in the input field.</p>
<form><br>  Select your favorite color:<br>  <input type="color" name="favcolor"><br></form>

<h2 id="Input-Type-Date"><a href="#Input-Type-Date" class="headerlink" title="Input Type Date"></a>Input Type Date</h2><p>The <code>&lt;input type=&quot;date&quot;&gt;</code> is used for input fields that should contain a date.</p>
<p>Depending on browser support, a date picker can show up in the input field.</p>
<form><br>  Birthday:<br>  <input type="date" name="bday"><br></form>

<p>You can also use the <code>min</code> and <code>max</code> attributes to add restrictions to dates:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  Enter a date before 1980-01-01:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">"bday"</span> <span class="attr">max</span>=<span class="string">"1979-12-31"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Enter a date after 2000-01-01:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"date"</span> <span class="attr">name</span>=<span class="string">"bday"</span> <span class="attr">min</span>=<span class="string">"2000-01-02"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  Enter a date before 1980-01-01:<br>  <input type="date" name="bday" max="1979-12-31"><br><br>  Enter a date after 2000-01-01:<br>  <input type="date" name="bday" min="2000-01-02"><br><br></form>

<h2 id="Input-Type-Datetime-local"><a href="#Input-Type-Datetime-local" class="headerlink" title="Input Type Datetime-local"></a>Input Type Datetime-local</h2><p>The <code>&lt;input type=&quot;datetime-local&quot;&gt;</code> specifies a date and time input field, with no time zone.</p>
<p>Depending on browser support, a date picker can show up in the input field.</p>
<h2 id="Input-Type-Email"><a href="#Input-Type-Email" class="headerlink" title="Input Type Email"></a>Input Type Email</h2><p>The <code>&lt;input type=&quot;email&quot;&gt;</code> is used for input fields that should contain an e-mail address.</p>
<p>Depending on browser support, the e-mail address can be automatically validated when submitted.</p>
<p>Some smartphones recognize the email type, and adds “.com” to the keyboard to match email input.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">  E-mail:</span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"email"</span> <span class="attr">name</span>=<span class="string">"email"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form><br>  E-mail:<br>  <input type="email" name="email"><br></form>

<h2 id="The-readonly-Attribute"><a href="#The-readonly-Attribute" class="headerlink" title="The readonly Attribute"></a>The readonly Attribute</h2><p>The <code>readonly</code> attribute specifies that the input field is read only (cannot be changed):</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span> <span class="attr">value</span>=<span class="string">"John"</span> <span class="attr">readonly</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" readonly><br></form>

<h2 id="The-disabled-Attribute"><a href="#The-disabled-Attribute" class="headerlink" title="The disabled Attribute"></a>The disabled Attribute</h2><p>The <code>disabled</code> attribute specifies that the input field is disabled.</p>
<p>A disabled input field is unusable and un-clickable, and its value will not be sent when submitting the form:</p>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" disabled><br></form>

<h2 id="The-size-Attribute"><a href="#The-size-Attribute" class="headerlink" title="The size Attribute"></a>The size Attribute</h2><p>The <code>size</code> attribute specifies the size (in characters) for the input field:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">  First name:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span> <span class="attr">value</span>=<span class="string">"John"</span> <span class="attr">size</span>=<span class="string">"40"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<form action=""><br>  First name:<br><br>  <input type="text" name="firstname" value="John" size="40"><br></form>

<h2 id="The-maxlength-Attribute"><a href="#The-maxlength-Attribute" class="headerlink" title="The maxlength Attribute"></a>The maxlength Attribute</h2><p>The <code>maxlength</code> attribute specifies the maximum allowed length for the input field:</p>
<h2 id="The-autocomplete-Attribute"><a href="#The-autocomplete-Attribute" class="headerlink" title="The autocomplete Attribute"></a>The autocomplete Attribute</h2><p>The <code>autocomplete</code> attribute specifies whether a form or input field should have autocomplete on or off.</p>
<p>When autocomplete is on, the browser automatically completes the input values based on values that the user has entered before.</p>
<p><strong>Tip:</strong> It is possible to have autocomplete “on” for the form, and “off” for specific input fields, or vice versa.</p>
<p>The <code>autocomplete</code> attribute works with <code>&lt;form&gt;</code> and the following <code>&lt;input&gt;</code> types: text, search, url, tel, email, password, datepickers, range, and color.</p>
<h2 id="The-novalidate-Attribute"><a href="#The-novalidate-Attribute" class="headerlink" title="The novalidate Attribute"></a>The novalidate Attribute</h2><p>The <code>novalidate</code> attribute is a <code>&lt;form&gt;</code> attribute.</p>
<p>When present, novalidate specifies that the form data should not be validated when submitted.</p>
<h2 id="The-autofocus-Attribute"><a href="#The-autofocus-Attribute" class="headerlink" title="The autofocus Attribute"></a>The autofocus Attribute</h2><p>The <code>autofocus</code> attribute specifies that the input field should automatically get focus when the page loads.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">First name:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span> <span class="attr">autofocus</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="The-form-Attribute"><a href="#The-form-Attribute" class="headerlink" title="The form Attribute"></a>The form Attribute</h2><p>The <code>form</code> attribute specifies one or more forms an <code>&lt;input&gt;</code> element belongs to.</p>
<p><strong>Tip:</strong> To refer to more than one form, use a space-separated list of form ids.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"/action_page.php"</span> <span class="attr">id</span>=<span class="string">"form1"</span>&gt;</span></span><br><span class="line">  First name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"fname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">Last name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lname"</span> <span class="attr">form</span>=<span class="string">"form1"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="The-formenctype-Attribute"><a href="#The-formenctype-Attribute" class="headerlink" title="The formenctype Attribute"></a>The formenctype Attribute</h2><p>The <code>formenctype</code> attribute specifies how the form data should be encoded when submitted (only for forms with method=”post”).</p>
<p>The <code>formenctype</code> attribute overrides the enctype attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formenctype</code> attribute is used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-formmethod-Attribute"><a href="#The-formmethod-Attribute" class="headerlink" title="The formmethod Attribute"></a>The formmethod Attribute</h2><p>The <code>formmethod</code> attribute defines the HTTP method for sending form-data to the action URL.</p>
<p>The <code>formmethod</code> attribute overrides the method attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formmethod</code> attribute can be used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-formnovalidate-Attribute"><a href="#The-formnovalidate-Attribute" class="headerlink" title="The formnovalidate Attribute"></a>The formnovalidate Attribute</h2><p>The <code>formnovalidate</code> attribute overrides the novalidate attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formnovalidate</code> attribute can be used with <code>type=&quot;submit&quot;</code>.</p>
<h2 id="The-formtarget-Attribute"><a href="#The-formtarget-Attribute" class="headerlink" title="The formtarget Attribute"></a>The formtarget Attribute</h2><p>The <code>formtarget</code> attribute specifies a name or a keyword that indicates where to display the response that is received after submitting the form.</p>
<p>The <code>formtarget</code> attribute overrides the target attribute of the <code>&lt;form&gt;</code> element.</p>
<p>The <code>formtarget</code> attribute can be used with <code>type=&quot;submit&quot;</code> and <code>type=&quot;image&quot;</code>.</p>
<h2 id="The-multiple-Attribute"><a href="#The-multiple-Attribute" class="headerlink" title="The multiple Attribute"></a>The multiple Attribute</h2><p>The <code>multiple</code> attribute specifies that the user is allowed to enter more than one value in the <code>&lt;input&gt;</code> element.</p>
<p>The <code>multiple</code> attribute works with the following input types: email, and file.</p>
<hr>
<h2 id="The-pattern-Attribute正则表达式"><a href="#The-pattern-Attribute正则表达式" class="headerlink" title="The pattern Attribute正则表达式"></a>The pattern Attribute正则表达式</h2><p>The <code>pattern</code> attribute specifies a regular expression that the <code>&lt;input&gt;</code> element’s value is checked against.</p>
<p>The <code>pattern</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<p><strong>Tip:</strong> Use the global <a href="https://www.w3schools.com/tags/att_global_title.asp" target="_blank" rel="noopener">title</a> attribute to describe the pattern to help the user.</p>
<p><strong>Tip:</strong> Learn more about <a href="https://www.w3schools.com/js/js_regexp.asp" target="_blank" rel="noopener">regular expressions</a> in our JavaScript tutorial.</p>
<h2 id="The-placeholder-Attributes"><a href="#The-placeholder-Attributes" class="headerlink" title="The placeholder Attributes"></a>The placeholder Attributes</h2><p>The <code>placeholder</code> attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>
<p>The hint is displayed in the input field before the user enters a value.</p>
<p>The <code>placeholder</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<h2 id="The-placeholder-Attribute-HINT"><a href="#The-placeholder-Attribute-HINT" class="headerlink" title="The placeholder Attribute  (HINT )"></a>The placeholder Attribute  (HINT )</h2><p>The <code>placeholder</code> attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>
<p>The hint is displayed in the input field before the user enters a value.</p>
<p>The <code>placeholder</code> attribute works with the following input types: text, search, url, tel, email, and password.</p>
<p>&lt;!DOCTYPE html&gt;</p>
<p><html></html></p>
<p><body></body></p>
<p></p><h2>The placeholder Attribute</h2><p></p>
<p>The placeholder attribute specifies a hint that describes the expected value of an input field (a sample value or a short description of the format).</p>

<form action="/action_page.php"><br>  <input type="text" name="fname" placeholder="First name"><br><br>  <input type="text" name="lname" placeholder="Last name"><br><br>  <input type="submit" value="Submit"><br></form>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/15/leetcode_5/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/15/leetcode_5/" itemprop="url">leetcode_5</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-15T22:28:11+08:00">
                2018-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LeetCode-No-5"><a href="#LeetCode-No-5" class="headerlink" title="[LeetCode: No.5]"></a>[LeetCode: No.5]</h1><blockquote>
<p>Given a string <strong>s</strong>, find the longest palindromic substring in <strong>s</strong>. You may assume that the maximum length of <strong>s</strong> is 1000.</p>
</blockquote>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;babad&quot;</span><br><span class="line">Output: &quot;bab&quot;</span><br><span class="line">Note: &quot;aba&quot; is also a valid answer.</span><br></pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;cbbd&quot;</span><br><span class="line">Output: &quot;bb&quot;</span><br></pre></td></tr></table></figure>
<p>  <strong>最长回文子串的中间子串也是回文串，换言之，回文串是否最长，可以看回文串两边的字符是否相同。例如“dabcba”的最长回文子串是“abcba”，</strong>其可看出回文子串“bcb”的拓展，判断“bab”两边的字符是否相同决定是否进行回文子串拓展（可以利用切片的索引左右移动实现）</p>
<p>  由这个想法下， 写出第一个代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> len(s) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        self.res = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            left = right = i</span><br><span class="line">            <span class="keyword">while</span> left&gt;=<span class="number">0</span> <span class="keyword">and</span> right &lt; len(s) <span class="keyword">and</span> s[left] == s[right]:</span><br><span class="line">                left -= <span class="number">1</span></span><br><span class="line">                right += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> right -left <span class="number">-1</span> &gt; len(self.res):</span><br><span class="line">                self.res = s[left+<span class="number">1</span>:right]</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br></pre></td></tr></table></figure>
<p>其中在While语句中， s[left] == s[right]<strong>是一定要放在最后面的</strong>，因为在python中and的机制是这样的and之前的是Flase， 那么and后面的就不会被执行，有可能会出现left=-1或者right=len(s)，这是的s[left]和s[right]会超出索引值。还有就是<strong>一定要注意字符串的索引值和长度</strong>。</p>
<p>  但是这段代码还是会出错，当输出值s为’abbc’是 ，检测不出bb，因为他没有对称中心。所以我们在做添加，left和right的初始值不设为想等而是相差1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestPalindrome</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span>      </span><br><span class="line">        <span class="keyword">if</span> len(s) &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> s</span><br><span class="line">        self.res = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">            <span class="comment">#这里就是考虑到两种情况，从相同字符拓宽和从相邻字符拓宽</span></span><br><span class="line">            self.helper(s, i, i)</span><br><span class="line">            self.helper(s, i, i+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self,s, left, right)</span>:</span></span><br><span class="line">        <span class="comment">#这里是判断当前回文子串两端相同的时候，向两端拓展</span></span><br><span class="line">        <span class="keyword">while</span> left&gt;=<span class="number">0</span> <span class="keyword">and</span> right &lt; len(s) <span class="keyword">and</span> s[left] == s[right]:</span><br><span class="line">            left -= <span class="number">1</span></span><br><span class="line">            right += <span class="number">1</span></span><br><span class="line">            <span class="comment">#这里的right-left-1是当前的回文子串长度，大于历史最大值，就更新最大值</span></span><br><span class="line">        <span class="keyword">if</span> right -left <span class="number">-1</span> &gt; len(self.res):</span><br><span class="line">            self.res = s[left+<span class="number">1</span>:right]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/13/leetcode_4/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Francis Cheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Francis'Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/13/leetcode_4/" itemprop="url">leetcode_4</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-11-13T22:28:11+08:00">
                2018-11-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="LeetCode-No-4"><a href="#LeetCode-No-4" class="headerlink" title="[LeetCode: No.4]"></a>[LeetCode: No.4]</h1><blockquote>
<p>There are two sorted arrays <strong>nums1</strong> and <strong>nums2</strong> of size m and n respectively.</p>
<p>Find the median of the two sorted arrays. The overall run time complexity should be O(log (m+n)).</p>
<p>You may assume <strong>nums1</strong> and <strong>nums2</strong> cannot be both empty.</p>
</blockquote>
<p>仔细分析题目，nums1和nums2都已经是排好序了的，这就大大的降低了难度，让找到两个列表的中间值，其实我们可以拓展为找到两个列表的第k个值。当然这个是拓展部分了，对于这个题目，有不同的思路，最简单粗暴的就是将两个列表合并，之后进行排序，拍好序后进行寻找中间值就简单了。但是用传统的先合并再排序，效率想必会很低~</p>
<p>我们发现对于两个已经有序的列表（从小到大），其实有一个更优的排序方式：<strong>从小到大，依次进行列表元素的比较，较小值放到一个新列表中，比如A中该位置的值较小，将其放到新的列表C中，同时将A列表下一个值继续与B中当前位置元素进行比较，以此类推。</strong>这样的比较次数就比先合并在排序小很多啦！代码如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMedianSortedArrays</span><span class="params">(self, nums1, nums2)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums1: List[int]</span></span><br><span class="line"><span class="string">        :type nums2: List[int]</span></span><br><span class="line"><span class="string">        :rtype: float</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        length = len(nums1)+len(nums2)</span><br><span class="line">        <span class="comment">#计算总长度</span></span><br><span class="line">        num = [<span class="number">0</span>]  * length</span><br><span class="line">        </span><br><span class="line">        index, i_1, i_2 = <span class="number">0</span></span><br><span class="line">        <span class="comment">#当输入两个列表都还存在元素没进行比较的时候，循环进行对比</span></span><br><span class="line">        <span class="comment">#并将较小值放入新列表，同时较小元素的列表和新列表索引加一</span></span><br><span class="line">        <span class="keyword">while</span> i_1&lt;len(nums1) <span class="keyword">and</span> i_2 &lt; len(nums2):</span><br><span class="line">        	<span class="keyword">if</span> nums1[i_1] &gt;= nums2[i_2]:</span><br><span class="line">        		num[index] = nums2[i_2]</span><br><span class="line">        		i_2 += <span class="number">1</span></span><br><span class="line">        	<span class="keyword">else</span>:</span><br><span class="line">        	    num[index] = nums1[i_1]</span><br><span class="line">        	    i_1 += <span class="number">1</span></span><br><span class="line">        	index += <span class="number">1</span></span><br><span class="line">        <span class="comment">#当存在某一个列表所有元素已经比较完，即排好了序</span></span><br><span class="line">        <span class="comment">#剩下那个列表剩下的值直接放入新列表对应位置即可</span></span><br><span class="line">        <span class="keyword">if</span> i_1 == len(nums1)  :   <span class="comment">#这里要注意的是， 我们while语句最后都多加了一个1所以这里是==len(nums1)</span></span><br><span class="line">        	num[index:] = nums2[i_2:]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">        	num[index:] = nums1[i_1:]</span><br><span class="line">        <span class="keyword">if</span> length % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        	<span class="keyword">return</span> float(num[length//<span class="number">2</span>]+num[length//<span class="number">2</span> - <span class="number">1</span>])/<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">        	<span class="keyword">return</span> num[length//<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Francis Cheng">
          <p class="site-author-name" itemprop="name">Francis Cheng</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Francis Cheng</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

  <script type="text/javascript" src="/js/src/love.js"></script>

  


</body>
</html>
